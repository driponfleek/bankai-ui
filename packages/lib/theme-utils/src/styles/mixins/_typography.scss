// ========================================================
// Dependencies
// ========================================================
@use 'sass:math';
@import '~@epr0t0type/bankai-lib-style-utils/src/styles/utils/map-utils.scss';
@import '../tokens/spec-tokens.scss';

@mixin bankai-max-line-width($lineheight: bankai-get-map-value($bankai-spec-tokens, 'typography-line-height')) {
    // $div-form: 1em / #{$lineheight};
    $div-formula: math.div(1em, $lineheight); // font-size divided by lineheight
    max-width: calc(70 * #{$div-formula}); // max characters * (font-size / line-height)
}

@mixin bankai-heading-font-shared() {
    box-sizing: border-box;
    font-family: var(--bankai-typography-heading-font-name, bankai-get-map-value($bankai-spec-tokens, 'typography-heading-font-name')), var(--bankai-typography-heading-font-fallback, bankai-get-map-value($bankai-spec-tokens, 'typography-heading-font-fallback'));
    font-style: var(--bankai-typography-heading-font-style, bankai-get-map-value($bankai-spec-tokens, 'typography-heading-font-style'));
    font-weight: var(--bankai-typography-heading-font-weight, bankai-get-map-value($bankai-spec-tokens, 'typography-heading-font-weight'));
    line-height: bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height');
    margin: 0;
}

@mixin bankai-body-font-shared() {
    font-family: var(--bankai-typography-body-font, bankai-get-map-value($bankai-spec-tokens, 'typography-body-font-name'), bankai-get-map-value($bankai-spec-tokens, 'typography-body-font-name-fallback'));
    line-height: bankai-get-map-value($bankai-spec-tokens, 'typography-line-height');
}

@mixin bankai-h1() {
    @include bankai-heading-font-shared;
    @include bankai-max-line-width(bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height'));
    font-size: var(--bankai-typography-h1-font-size, bankai-get-map-value($bankai-spec-tokens, 'typography-h1-font-size'));
}

@mixin bankai-h2() {
    @include bankai-heading-font-shared;
    @include bankai-max-line-width(bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height'));
    font-size: var(--bankai-typography-h2-font-size, bankai-get-map-value($bankai-spec-tokens, 'typography-h2-font-size'));
}

@mixin bankai-h3() {
    @include bankai-heading-font-shared;
    @include bankai-max-line-width(bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height'));
    font-size: var(--bankai-typography-h3-font-size, bankai-get-map-value($bankai-spec-tokens, 'typography-h3-font-size'));
}

@mixin bankai-h4() {
    @include bankai-heading-font-shared;
    @include bankai-max-line-width(bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height'));
    font-size: var(--bankai-typography-h4-font-size, bankai-get-map-value($bankai-spec-tokens, 'typography-h4-font-size'));
}

@mixin bankai-h5() {
    @include bankai-heading-font-shared;
    @include bankai-max-line-width(bankai-get-map-value($bankai-spec-tokens, 'typography-heading-line-height'));
    font-size: var(--bankai-typography-h5-font-size, bankai-get-map-value($bankai-spec-tokens, 'typography-h5-font-size'));
}
