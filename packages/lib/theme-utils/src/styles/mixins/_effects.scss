// ========================================================
// Dependencies
// ========================================================
@use 'sass:color';
@import '../utils/theme-utils.scss';

// TODO: Clean up commented code
@mixin bankai-shadow-elevation-low($color: bankai-get-light-theme-map-value('semantic-color-box-shadow')) {
    $color-h: color.hue($color);
    $color-s: color.saturation($color);
    $color-l: color.lightness($color);
    $color-hsl: #{$color-h}, #{$color-s}, #{$color-l};
    $layer-1-hsla: $color-hsl, 0.084;
    $layer-2-hsla: $color-hsl, 0.12;
    $layer-3-hsla: $color-hsl, 0.156;
    $layer-4-hsla: $color-hsl, 0.24;
    box-shadow:
        // https://www.joshwcomeau.com/shadow-palette/
        // 0 1px 1px hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-1-hsla})),
        // 0 1.7px 2.4px hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-2-hsla})),
        // 1.6px 1.3px 3px -0.2px hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-3-hsla}));

        // https://shadows.joeczubiak.com/ - Elevation 2
        // 0 3px 1px -2px hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-1-hsla})),
        // 0 2px 2px 0 hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-2-hsla})), 
        // 0 1px 5px 0 hsla(var(--bankai-semantic-color-box-shadow-low, #{$layer-3-hsla}));

        // https://shadows.brumm.af/
        0 0 0.2px hsla(var(--bankai-semantic-color-box-shadow-low-layer-1, #{$layer-1-hsla})),
        0.1px 0.1px 0.5px hsla(var(--bankai-semantic-color-box-shadow-low-layer-2, #{$layer-2-hsla})),
        0.3px 0.3px 1.2px hsla(var(--bankai-semantic-color-box-shadow-low-layer-3, #{$layer-3-hsla})),
        1px 1px 4px hsla(var(--bankai-semantic-color-box-shadow-low-layer-4, #{$layer-4-hsla}));

}

@mixin bankai-shadow-elevation-medium($color: bankai-get-light-theme-map-value('semantic-color-box-shadow')) {
    $color-h: color.hue($color);
    $color-s: color.saturation($color);
    $color-l: color.lightness($color);
    $color-hsl: #{$color-h}, #{$color-s}, #{$color-l};
    // $color-hsla: $color-hsl, 0.11;
    $layer-1-hsla: $color-hsl, 0.045;
    $layer-2-hsla: $color-hsl, 0.065;
    $layer-3-hsla: $color-hsl, 0.08;
    $layer-4-hsla: $color-hsl, 0.095;
    $layer-5-hsla: $color-hsl, 0.115;
    $layer-6-hsla: $color-hsl, 0.16;
    box-shadow:
        // https://www.joshwcomeau.com/shadow-palette/
        // 0.3px 0.5px 0.7px hsla(var(--bankai-semantic-color-box-shadow-medium, #{$color-hsla})),
        // 0.8px 1.6px 2px -0.8px hsla(var(--bankai-semantic-color-box-shadow-medium, #{$color-hsla})),
        // 2.1px 4.1px 5.2px -1.7px hsla(var(--bankai-semantic-color-box-shadow-medium, #{$color-hsla})),
        // 5px 10px 12.6px -2.5px hsla(var(--bankai-semantic-color-box-shadow-medium, #{$color-hsla}));

        // https://shadows.brumm.af/
        0.1px 0.2px 0.3px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-1, #{$layer-1-hsla})),
        0.3px 0.5px 0.8px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-2, #{$layer-2-hsla})),
        0.5px 1px 1.5px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-3, #{$layer-3-hsla})),
        0.9px 1.8px 2.7px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-4, #{$layer-4-hsla})),
        1.7px 3.3px 5px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-5, #{$layer-5-hsla})),
        4px 8px 12px hsla(var(--bankai-semantic-color-box-shadow-medium-layer-6, #{$layer-6-hsla}));
}

@mixin bankai-shadow-elevation-high($color: bankai-get-light-theme-map-value('semantic-color-box-shadow'), $opacity: 0.34) {
    $color-h: color.hue($color);
    $color-s: color.saturation($color);
    $color-l: color.lightness($color);
    $color-hsl: #{$color-h}, #{$color-s}, #{$color-l};
    // $color-hsla: $color-hsl, 0.1;
    $layer-1-hsla: $color-hsl, 0.12;
    $layer-2-hsla: $color-hsl, 0.091;
    $layer-3-hsla: $color-hsl, 0.078;
    $layer-4-hsla: $color-hsl, 0.069;
    $layer-5-hsla: $color-hsl, 0.06;
    $layer-6-hsla: $color-hsl, 0.051;
    $layer-7-hsla: $color-hsl, 0.042;
    $layer-8-hsla: $color-hsl, 0.029;
    box-shadow:
        // https://www.joshwcomeau.com/shadow-palette/
        // 0.3px 0.5px 0.7px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 0.8px 1.1px 1.5px -0.4px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 1.5px 2.1px 2.9px -0.7px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 2.5px 3.5px 4.8px -1.1px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 4px 5.6px 7.7px -1.4px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 6.2px 8.7px 12px -1.8px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 9.5px 13.3px 18.4px -2.1px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla})),
        // 14px 19.5px 27px -2.5px hsla(var(--bankai-semantic-color-box-shadow-high, #{$color-hsla}));
        
        // https://shadows.brumm.af/
        0.3px 0.4px 1.6px hsla(var(--bankai-semantic-color-box-shadow-high-layer-1, #{$layer-1-hsla})),
        0.7px 0.9px 3.6px hsla(var(--bankai-semantic-color-box-shadow-high-layer-2, #{$layer-2-hsla})),
        1.3px 1.6px 6.3px hsla(var(--bankai-semantic-color-box-shadow-high-layer-3, #{$layer-3-hsla})),
        2px 2.5px 10px hsla(var(--bankai-semantic-color-box-shadow-high-layer-4, #{$layer-4-hsla})),
        3.1px 3.9px 15.5px hsla(var(--bankai-semantic-color-box-shadow-high-layer-5, #{$layer-5-hsla})),
        4.8px 6px 24.1px hsla(var(--bankai-semantic-color-box-shadow-high-layer-6, #{$layer-6-hsla})),
        8px 10px 40px hsla(var(--bankai-semantic-color-box-shadow-high-layer-7, #{$layer-7-hsla})),
        16px 20px 80px hsla(var(--bankai-semantic-color-box-shadow-high-layer-8, #{$layer-8-hsla}));
}

@mixin bankai-scroll-shadows-parent() {
    // https://css-tricks.com/books/greatest-css-tricks/scroll-shadows/
    // https://jsfiddle.net/y79avtek/
    &::before, &::after {
        content: '';
        width: 100%;
        height: 10px;
        display: block;
        position: absolute;
    }

    &::before {
        background: 
            // Shadow TOP
            radial-gradient(
                farthest-side at 50% 0,
                rgba(0, 0, 0, 20%),
                rgba(0, 0, 0, 0%)
            ) center top;
    }

    &::after {
        background: 
            // Shadow BOTTOM
            radial-gradient(
                farthest-side at 50% 100%,
                rgba(0, 0, 0, 20%),
                rgba(0, 0, 0, 0%)
            ) center bottom;
        margin-top: -10px;
    }
}

@mixin bankai-scroll-shadows-content() {
    &::before, &::after {
        content: '';
        height: 10px;
        display: block;
        position: sticky;
    }

    &::before {
        background:
            // Shadow Cover TOP
        white;
    }

    &::after {
        background: 
            // Shadow Cover BOTTOM
            white;
        z-index: 1;
    }
}
