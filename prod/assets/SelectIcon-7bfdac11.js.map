{"version":3,"file":"SelectIcon-7bfdac11.js","sources":["../../../../node_modules/react-widgets/esm/FocusListContext.js","../../../../node_modules/react-widgets/esm/ListOption.js","../../../../node_modules/react-widgets/esm/ListOptionGroup.js","../../../../node_modules/@restart/hooks/esm/useCustomEffect.js","../../../../node_modules/dequal/dist/index.mjs","../../../../node_modules/@restart/hooks/esm/useStableMemo.js","../../../../node_modules/@restart/hooks/esm/useUpdatedRef.js","../../../../node_modules/@restart/hooks/esm/useWillUnmount.js","../../../../node_modules/@restart/hooks/esm/useUpdateImmediateEffect.js","../../../../node_modules/@restart/hooks/esm/useMutationObserver.js","../../../../node_modules/@restart/hooks/esm/useCallbackRef.js","../../../../node_modules/@restart/hooks/esm/useMergedRefs.js","../../../../node_modules/react-widgets/esm/List.js","../../../../node_modules/react-widgets/esm/A11y.js","../../../../node_modules/react-widgets/esm/Accessors.js","../../../../node_modules/react-widgets/esm/Filter.js","../../../components/form-elements-rw/src/components/BusySpinner.jsx","../../../components/form-elements-rw/src/components/SelectIcon.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport querySelectorAll from 'dom-helpers/querySelectorAll';\nimport React, { useCallback, useContext, useLayoutEffect, useMemo, useState, useRef } from 'react';\nexport const FocusListContext = /*#__PURE__*/React.createContext(null);\nconst defaultOpts = {\n  behavior: 'stop'\n};\nexport function useListOption(dataItem) {\n  const ctx = useContext(FocusListContext);\n  const prevElement = useRef(null); // this is a bit convoluted because we want to use a ref object, a callback ref\n  // causes an extra render which is fine except that it means the list hook for\n  // anchor items fires before elements are processed\n\n  const ref = useRef(null);\n  useLayoutEffect(() => () => {\n    ctx == null ? void 0 : ctx.map.delete(ref.current);\n  }, []);\n  useLayoutEffect(() => {\n    if (prevElement.current !== ref.current) {\n      ctx == null ? void 0 : ctx.map.delete(prevElement.current);\n    }\n\n    prevElement.current = ref.current;\n\n    if (ref.current && (ctx == null ? void 0 : ctx.map.get(ref.current)) !== dataItem) {\n      ctx == null ? void 0 : ctx.map.set(ref.current, dataItem);\n    }\n  });\n  const focused = dataItem === (ctx == null ? void 0 : ctx.focusedItem);\n  return [ref, focused, focused ? ctx == null ? void 0 : ctx.activeId : undefined];\n}\nexport const useFocusList = ({\n  scope: listRef,\n  anchorItem,\n  focusFirstItem: _focusFirstItem = false,\n  scopeSelector: _scopeSelector = '',\n  activeId\n}) => {\n  const map = useMemo(() => new WeakMap(), []);\n  const [focusedItem, setFocusedItem] = useState();\n  const itemSelector = `${_scopeSelector} [data-rw-focusable]`.trim();\n\n  const get = () => {\n    const items = querySelectorAll(listRef.current, itemSelector);\n    return [items, items.find(e => e.dataset.rwFocused === '')];\n  };\n\n  const list = useMemo(() => {\n    return {\n      size() {\n        const [items] = get();\n        return items.length;\n      },\n\n      get,\n      toDataItem: el => map.get(el),\n\n      first() {\n        const [[first]] = get();\n        return first;\n      },\n\n      focus(el) {\n        if (!el || map.has(el)) setFocusedItem(el ? map.get(el) : undefined);\n      },\n\n      last() {\n        const [items] = get();\n        return items[items.length - 1];\n      },\n\n      next({\n        behavior\n      } = defaultOpts) {\n        const [items, focusedItem] = get();\n        let nextIdx = items.indexOf(focusedItem) + 1;\n\n        if (nextIdx >= items.length) {\n          if (behavior === 'loop') return items[0];\n          if (behavior === 'clear') return undefined;\n          return focusedItem;\n        }\n\n        return items[nextIdx];\n      },\n\n      prev({\n        behavior\n      } = defaultOpts) {\n        const [items, focusedItem] = get();\n        let nextIdx = Math.max(0, items.indexOf(focusedItem)) - 1;\n\n        if (nextIdx < 0) {\n          if (behavior === 'loop') return items[items.length - 1];\n          if (behavior === 'clear') return undefined;\n          return focusedItem;\n        }\n\n        return items[nextIdx];\n      }\n\n    };\n  }, []);\n  useLayoutEffect(() => {\n    if (!anchorItem) {\n      list.focus(null);\n      return;\n    }\n\n    const element = get()[0].find(el => list.toDataItem(el) === anchorItem);\n    list.focus(element);\n  }, [anchorItem]);\n  useLayoutEffect(() => {\n    if (!listRef.current) return;\n    const [, focusedElement] = get();\n    const hasItem = focusedElement != null;\n\n    if (!hasItem && _focusFirstItem || hasItem && !listRef.current.contains(focusedElement)) {\n      if (_focusFirstItem) list.focus(list.first());else list.focus(null);\n    }\n  });\n  const context = useMemo(() => ({\n    map,\n    focusedItem,\n    activeId\n  }), [focusedItem, activeId]);\n  list.context = context;\n  list.getFocused = useCallback(() => focusedItem, [focusedItem]);\n\n  list.hasFocused = () => focusedItem !== undefined;\n\n  return list;\n};","const _excluded = [\"className\", \"children\", \"dataItem\", \"selected\", \"disabled\", \"onSelect\", \"searchTerm\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useListOption } from './FocusListContext';\nconst propTypes = {\n  activeId: PropTypes.string,\n  dataItem: PropTypes.any,\n  selected: PropTypes.bool.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  component: PropTypes.any\n};\n\nfunction ListOption(_ref) {\n  let {\n    className,\n    children,\n    dataItem,\n    selected,\n    disabled,\n    onSelect\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [ref, focused, id] = useListOption(dataItem);\n\n  const handleSelect = event => {\n    if (onSelect && !disabled) onSelect(dataItem, event);\n  };\n\n  let classes = {\n    'rw-state-focus': focused,\n    'rw-state-selected': selected,\n    'rw-state-disabled': disabled\n  };\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    id: id,\n    ref: ref,\n    role: \"option\",\n    \"data-rw-option\": \"\",\n    \"data-rw-focused\": focused ? '' : undefined,\n    \"data-rw-focusable\": !disabled ? '' : undefined,\n    tabIndex: -1,\n    \"aria-selected\": !!selected,\n    className: cn('rw-list-option', className, classes),\n    onClick: handleSelect\n  }, props), children);\n} // @ts-ignore\n\n\nListOption.propTypes = propTypes;\nexport default ListOption;","import cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst propTypes = {\n  className: PropTypes.string,\n  component: PropTypes.string\n};\n\nfunction ListOptionGroup({\n  children,\n  className,\n  component = 'div'\n}) {\n  let Tag = component;\n  return /*#__PURE__*/React.createElement(Tag, {\n    tabIndex: \"-1\",\n    role: \"separator\",\n    className: cn(className, 'rw-list-optgroup')\n  }, children);\n}\n\nListOptionGroup.propTypes = propTypes;\nexport default ListOptionGroup;","import { useRef, useEffect, useDebugValue } from 'react';\nimport useMounted from './useMounted';\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param isEqual A function comparing the next and previous dependencyLists\n */\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param options\n * @param options.isEqual A function comparing the next and previous dependencyLists\n * @param options.effectHook the underlying effect hook used, defaults to useEffect\n */\n\nfunction useCustomEffect(effect, dependencies, isEqualOrOptions) {\n  const isMounted = useMounted();\n  const {\n    isEqual,\n    effectHook = useEffect\n  } = typeof isEqualOrOptions === 'function' ? {\n    isEqual: isEqualOrOptions\n  } : isEqualOrOptions;\n  const dependenciesRef = useRef();\n  dependenciesRef.current = dependencies;\n  const cleanupRef = useRef(null);\n  effectHook(() => {\n    // If the ref the is `null` it's either the first effect or the last effect\n    // ran and was cleared, meaning _this_ update should run, b/c the equality\n    // check failed on in the cleanup of the last effect.\n    if (cleanupRef.current === null) {\n      const cleanup = effect();\n      cleanupRef.current = () => {\n        if (isMounted() && isEqual(dependenciesRef.current, dependencies)) {\n          return;\n        }\n        cleanupRef.current = null;\n        if (cleanup) cleanup();\n      };\n    }\n    return cleanupRef.current;\n  });\n  useDebugValue(effect);\n}\nexport default useCustomEffect;","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { useRef } from 'react';\nfunction isEqual(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n/**\n * Identical to `useMemo` _except_ that it provides a semantic guarantee that\n * values will not be invalidated unless the dependencies change. This is unlike\n * the built in `useMemo` which may discard memoized values for performance reasons.\n *\n * @param factory A function that returns a value to be memoized\n * @param deps A dependency array\n */\nexport default function useStableMemo(factory, deps) {\n  let isValid = true;\n  const valueRef = useRef();\n  // initial hook call\n  if (!valueRef.current) {\n    valueRef.current = {\n      deps,\n      result: factory()\n    };\n    // subsequent calls\n  } else {\n    isValid = !!(deps && valueRef.current.deps && isEqual(deps, valueRef.current.deps));\n  }\n  const cache = isValid ? valueRef.current : {\n    deps,\n    result: factory()\n  };\n  // must update immediately so any sync renders here don't cause an infinite loop\n  valueRef.current = cache;\n  return cache.result;\n}","import { useRef } from 'react';\n\n/**\n * Returns a ref that is immediately updated with the new value\n *\n * @param value The Ref value\n * @category refs\n */\nexport default function useUpdatedRef(value) {\n  const valueRef = useRef(value);\n  valueRef.current = value;\n  return valueRef;\n}","import useUpdatedRef from './useUpdatedRef';\nimport { useEffect } from 'react';\n\n/**\n * Attach a callback that fires when a component unmounts\n *\n * @param fn Handler to run when the component unmounts\n * @category effects\n */\nexport default function useWillUnmount(fn) {\n  const onUnmount = useUpdatedRef(fn);\n  useEffect(() => () => onUnmount.current(), []);\n}","import { useRef } from 'react';\nimport useStableMemo from './useStableMemo';\nimport useWillUnmount from './useWillUnmount';\n\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\nfunction useUpdateImmediateEffect(effect, deps) {\n  const firstRef = useRef(true);\n  const tearDown = useRef();\n  useWillUnmount(() => {\n    if (tearDown.current) tearDown.current();\n  });\n  useStableMemo(() => {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\nexport default useUpdateImmediateEffect;","import useCustomEffect from './useCustomEffect';\nimport { dequal } from 'dequal';\nimport useImmediateUpdateEffect from './useImmediateUpdateEffect';\nimport useEventCallback from './useEventCallback';\nimport { useState } from 'react';\nfunction isDepsEqual([nextElement, nextConfig], [prevElement, prevConfig]) {\n  return nextElement === prevElement && dequal(nextConfig, prevConfig);\n}\n\n/**\n * Observe mutations on a DOM node or tree of DOM nodes.\n * Depends on the `MutationObserver` api.\n *\n * ```tsx\n * const [element, attachRef] = useCallbackRef(null);\n *\n * useMutationObserver(element, { subtree: true }, (records) => {\n *\n * });\n *\n * return (\n *   <div ref={attachRef} />\n * )\n * ```\n *\n * @param element The DOM element to observe\n * @param config The observer configuration\n * @param callback A callback fired when a mutation occurs\n */\n\n/**\n * Observe mutations on a DOM node or tree of DOM nodes.\n * use a `MutationObserver` and return records as the are received.\n *\n * ```tsx\n * const [element, attachRef] = useCallbackRef(null);\n *\n * const records = useMutationObserver(element, { subtree: true });\n *\n * return (\n *   <div ref={attachRef} />\n * )\n * ```\n *\n * @param element The DOM element to observe\n * @param config The observer configuration\n */\n\nfunction useMutationObserver(element, config, callback) {\n  const [records, setRecords] = useState(null);\n  const handler = useEventCallback(callback || setRecords);\n  useCustomEffect(() => {\n    if (!element) return;\n\n    // The behavior around reusing mutation observers is confusing\n    // observing again _should_ disable the last listener but doesn't\n    // seem to always be the case, maybe just in JSDOM? In any case the cost\n    // to redeclaring it is gonna be fairly low anyway, so make it simple\n    const observer = new MutationObserver(handler);\n    observer.observe(element, config);\n    return () => {\n      observer.disconnect();\n    };\n  }, [element, config], {\n    isEqual: isDepsEqual,\n    // Intentionally done in render, otherwise observer will miss any\n    // changes made to the DOM during this update\n    effectHook: useImmediateUpdateEffect\n  });\n  return callback ? void 0 : records || [];\n}\nexport default useMutationObserver;","import { useState } from 'react';\n\n/**\n * A convenience hook around `useState` designed to be paired with\n * the component [callback ref](https://reactjs.org/docs/refs-and-the-dom.html#callback-refs) api.\n * Callback refs are useful over `useRef()` when you need to respond to the ref being set\n * instead of lazily accessing it in an effect.\n *\n * ```ts\n * const [element, attachRef] = useCallbackRef<HTMLDivElement>()\n *\n * useEffect(() => {\n *   if (!element) return\n *\n *   const calendar = new FullCalendar.Calendar(element)\n *\n *   return () => {\n *     calendar.destroy()\n *   }\n * }, [element])\n *\n * return <div ref={attachRef} />\n * ```\n *\n * @category refs\n */\nexport default function useCallbackRef() {\n  return useState(null);\n}","import { useMemo } from 'react';\nconst toFnRef = ref => !ref || typeof ref === 'function' ? ref : value => {\n  ref.current = value;\n};\nexport function mergeRefs(refA, refB) {\n  const a = toFnRef(refA);\n  const b = toFnRef(refB);\n  return value => {\n    if (a) a(value);\n    if (b) b(value);\n  };\n}\n\n/**\n * Create and returns a single callback ref composed from two other Refs.\n *\n * ```tsx\n * const Button = React.forwardRef((props, ref) => {\n *   const [element, attachRef] = useCallbackRef<HTMLButtonElement>();\n *   const mergedRef = useMergedRefs(ref, attachRef);\n *\n *   return <button ref={mergedRef} {...props}/>\n * })\n * ```\n *\n * @param refA A Callback or mutable Ref\n * @param refB A Callback or mutable Ref\n * @category refs\n */\nfunction useMergedRefs(refA, refB) {\n  return useMemo(() => mergeRefs(refA, refB), [refA, refB]);\n}\nexport default useMergedRefs;","const _excluded = [\"multiple\", \"data\", \"value\", \"onChange\", \"accessors\", \"className\", \"messages\", \"disabled\", \"renderItem\", \"renderGroup\", \"searchTerm\", \"groupBy\", \"elementRef\", \"optionComponent\", \"renderList\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable @typescript-eslint/no-empty-function */\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useImperativeHandle, useMemo } from 'react';\nimport ListOption from './ListOption';\nimport ListOptionGroup from './ListOptionGroup';\nimport { useMessagesWithDefaults } from './messages'; // import { WidgetHTMLProps } from './shared'\n\nimport * as CustomPropTypes from './PropTypes';\nimport { groupBySortedKeys, makeArray, toItemArray } from './_';\nimport { useInstanceId } from './WidgetHelpers';\nimport useMutationObserver from '@restart/hooks/useMutationObserver';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nconst whitelist = ['style', 'className', 'role', 'id', 'autocomplete', 'size', 'tabIndex', 'maxLength', 'name'];\nconst whitelistRegex = [/^aria-/, /^data-/, /^on[A-Z]\\w+/];\n\nfunction pickElementProps(props) {\n  const result = {};\n  Object.keys(props).forEach(key => {\n    if (whitelist.indexOf(key) !== -1 || whitelistRegex.some(r => !!key.match(r))) result[key] = props[key];\n  });\n  return result;\n}\n\nconst propTypes = {\n  data: PropTypes.array,\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  onSelect: PropTypes.func,\n  onMove: PropTypes.func,\n  onHoverOption: PropTypes.func,\n  optionComponent: PropTypes.elementType,\n  renderItem: PropTypes.func,\n  renderGroup: PropTypes.func,\n  focusedItem: PropTypes.any,\n  selectedItem: PropTypes.any,\n  searchTerm: PropTypes.string,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  messages: PropTypes.shape({\n    emptyList: PropTypes.func.isRequired\n  })\n};\nexport const useScrollFocusedIntoView = (element, observeChanges = false) => {\n  const scrollIntoView = useCallback(() => {\n    if (!element) return;\n    let selectedItem = element.querySelector('[data-rw-focused]');\n\n    if (selectedItem && selectedItem.scrollIntoView) {\n      selectedItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [element]);\n  useMutationObserver(observeChanges ? element : null, {\n    subtree: true,\n    attributes: true,\n    attributeFilter: ['data-rw-focused']\n  }, scrollIntoView);\n  return scrollIntoView;\n};\nexport function useHandleSelect(multiple, dataItems, onChange) {\n  return (dataItem, event) => {\n    if (multiple === false) {\n      onChange(dataItem, {\n        dataItem,\n        lastValue: dataItems[0],\n        originalEvent: event\n      });\n      return;\n    }\n\n    const checked = dataItems.includes(dataItem);\n    onChange(checked ? dataItems.filter(d => d !== dataItem) : [...dataItems, dataItem], {\n      dataItem,\n      lastValue: dataItems,\n      action: checked ? 'remove' : 'insert',\n      originalEvent: event\n    });\n  };\n}\nconst List = /*#__PURE__*/React.forwardRef(function List(_ref, outerRef) {\n  var _elementProps$role;\n\n  let {\n    multiple = false,\n    data = [],\n    value,\n    onChange,\n    accessors,\n    className,\n    messages,\n    disabled,\n    renderItem,\n    renderGroup,\n    searchTerm,\n    groupBy,\n    elementRef,\n    optionComponent: Option = ListOption,\n    renderList\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const id = useInstanceId();\n  const dataItems = makeArray(value, multiple);\n  const groupedData = useMemo(() => groupBy ? groupBySortedKeys(groupBy, data) : undefined, [data, groupBy]);\n  const [element, ref] = useCallbackRef();\n  const disabledItems = toItemArray(disabled);\n  const {\n    emptyList\n  } = useMessagesWithDefaults(messages);\n  const divRef = useMergedRefs(ref, elementRef);\n  const handleSelect = useHandleSelect(multiple, dataItems, onChange);\n  const scrollIntoView = useScrollFocusedIntoView(element, true);\n  let elementProps = pickElementProps(props);\n  useImperativeHandle(outerRef, () => ({\n    scrollIntoView\n  }), [scrollIntoView]);\n\n  function renderOption(item, idx) {\n    const textValue = accessors.text(item);\n    const itemIsDisabled = disabledItems.includes(item);\n    const itemIsSelected = dataItems.includes(item);\n    return /*#__PURE__*/React.createElement(Option, {\n      dataItem: item,\n      key: `item_${idx}`,\n      searchTerm: searchTerm,\n      onSelect: handleSelect,\n      disabled: itemIsDisabled,\n      selected: itemIsSelected\n    }, renderItem ? renderItem({\n      item,\n      searchTerm,\n      index: idx,\n      text: textValue,\n      // TODO: probably remove\n      value: accessors.value(item),\n      disabled: itemIsDisabled\n    }) : textValue);\n  }\n\n  const items = groupedData ? groupedData.map(([group, items], idx) => /*#__PURE__*/React.createElement(\"div\", {\n    role: \"group\",\n    key: `group_${idx}`\n  }, /*#__PURE__*/React.createElement(ListOptionGroup, null, renderGroup ? renderGroup({\n    group\n  }) : group), items.map(renderOption))) : data.map(renderOption);\n  const rootProps = Object.assign({\n    id,\n    tabIndex: 0,\n    ref: divRef\n  }, elementProps, {\n    'aria-multiselectable': !!multiple,\n    className: cn(className, 'rw-list'),\n    role: (_elementProps$role = elementProps.role) != null ? _elementProps$role : 'listbox',\n    children: React.Children.count(items) ? items : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rw-list-empty\"\n    }, emptyList())\n  });\n  return renderList ? renderList(rootProps) : /*#__PURE__*/React.createElement(\"div\", rootProps);\n});\nList.displayName = 'List';\nList.propTypes = propTypes;\nexport default List;","import { useEffect } from 'react';\n/**\n * Do a \"hard\" set on the aria, so that it's always announced\n * even if the id hasn't changed, this saves us from having to have a different id\n * per item.\n */\n\nexport const setActiveDescendant = (ref, activeId) => {\n  if (!ref) return;\n  ref.removeAttribute('aria-activedescendant');\n  if (activeId) ref.setAttribute('aria-activedescendant', activeId);\n};\nexport const useActiveDescendant = (ref, id, visible, deps) => {\n  useEffect(() => {\n    setActiveDescendant(ref.current, visible ? id : ''); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ref, id, visible, ...deps]);\n};","import { useMemo } from 'react';\nexport const dataValue = (dataItem, field) => {\n  if (typeof field === 'function') return field(dataItem);\n  if (dataItem == null) return dataItem;\n  if (typeof field === 'string' && typeof dataItem === 'object' && field in dataItem) return dataItem[field];\n  return dataItem;\n};\nexport const dataText = (dataItem, textField) => {\n  const value = dataValue(dataItem, textField);\n  return value == null ? '' : String(value);\n};\n/**\n * I don't know that the shallow equal makes sense here but am too afraid to\n * remove it.\n */\n\nexport function valueMatcher(a, b, dataKey) {\n  return dataValue(a, dataKey) === dataValue(b, dataKey);\n}\nexport function dataIndexOf(data, value, dataKey) {\n  const valueDataKey = dataValue(value, dataKey);\n  let idx = -1;\n\n  while (++idx < data.length) {\n    const datum = data[idx];\n    if (datum === value || dataValue(datum, dataKey) === valueDataKey) return idx;\n  }\n\n  return -1;\n}\nexport function dataItem(data, value, dataKey) {\n  const idx = dataIndexOf(data, value, dataKey); // This isn't strictly safe, but we want to allow items that aren't in the list\n\n  return idx !== -1 ? data[idx] : value;\n}\nexport const useAccessors = (textField, dataKey) => {\n  return useMemo(() => ({\n    text: item => dataText(item, textField),\n    value: item => dataValue(item, dataKey),\n    indexOf: (data, value) => dataIndexOf(data, value, dataKey),\n    matches: (a, b) => valueMatcher(a, b, dataKey),\n    findOrSelf: (data, value) => dataItem(data, value, dataKey),\n    includes: (data, value) => dataIndexOf(data, value, dataKey) !== -1\n  }), [textField, dataKey]);\n};","import { dataText } from './Accessors';\nimport { useMemo } from 'react';\nexport const presets = {\n  eq: (a, b) => a === b,\n  contains: (a, b) => a.indexOf(b) !== -1,\n  startsWith: (a, b) => a.lastIndexOf(b, 0) === 0\n};\n\nfunction normalizeFilter(filter, textField) {\n  if (filter === false) return null;\n  if (typeof filter === 'function') return filter;\n  const filterPreset = presets[filter === true ? 'startsWith' : filter || 'eq'];\n  return (item, searchTerm) => {\n    let textValue = dataText(item, textField);\n    return filterPreset(textValue.toLowerCase(), searchTerm.toLowerCase());\n  };\n}\n\nexport function useFilteredData(data, filterer, searchTerm = '', textAccessor) {\n  return useMemo(() => {\n    const filter = normalizeFilter(filterer, textAccessor);\n    if (!filter || !searchTerm.trim()) return data;\n    return data.filter((item, idx) => filter(item, searchTerm, idx));\n  }, [data, filterer, searchTerm, textAccessor]);\n}","import PropTypes from 'prop-types';\nimport { BankaiSpinner } from '@driponfleek/bankai-ui-icons';\n\nconst BusySpinner = (props) => {\n    const { baseCls } = props;\n\n    return <BankaiSpinner contextCls={`${baseCls}__busy-icon`} />;\n};\n\nBusySpinner.propTypes = {\n    baseCls: PropTypes.string,\n};\n\nexport default BusySpinner;\n","import PropTypes from 'prop-types';\nimport { BankaiChevronDown } from '@driponfleek/bankai-ui-icons';\n\nconst SelectIcon = (props) => {\n    const { baseCls } = props;\n\n    return <BankaiChevronDown contextCls={`${baseCls}__select-icon`} />;\n};\n\nSelectIcon.propTypes = {\n    baseCls: PropTypes.string,\n};\n\nexport default SelectIcon;\n"],"names":["FocusListContext","React","defaultOpts","useListOption","dataItem","ctx","useContext","prevElement","useRef","ref","useLayoutEffect","focused","useFocusList","listRef","anchorItem","_focusFirstItem","_scopeSelector","activeId","map","useMemo","focusedItem","setFocusedItem","useState","itemSelector","get","items","querySelectorAll","e","list","el","first","behavior","nextIdx","element","focusedElement","hasItem","context","useCallback","_excluded","_extends","target","i","source","key","_objectWithoutPropertiesLoose","excluded","sourceKeys","propTypes","PropTypes","ListOption","_ref","className","children","selected","disabled","onSelect","props","id","handleSelect","event","classes","cn","ListOptionGroup","component","Tag","useCustomEffect","effect","dependencies","isEqualOrOptions","isMounted","useMounted","isEqual","effectHook","useEffect","dependenciesRef","cleanupRef","cleanup","useDebugValue","has","find","iter","tar","dequal","foo","bar","ctor","len","tmp","a","b","useStableMemo","factory","deps","isValid","valueRef","cache","useUpdatedRef","value","useWillUnmount","fn","onUnmount","useUpdateImmediateEffect","firstRef","tearDown","isDepsEqual","nextElement","nextConfig","prevConfig","useMutationObserver","config","callback","records","setRecords","handler","useEventCallback","observer","useImmediateUpdateEffect","useCallbackRef","toFnRef","mergeRefs","refA","refB","useMergedRefs","whitelist","whitelistRegex","pickElementProps","result","CustomPropTypes.accessor","CustomPropTypes.disabled","useScrollFocusedIntoView","observeChanges","scrollIntoView","selectedItem","useHandleSelect","multiple","dataItems","onChange","checked","d","List","outerRef","_elementProps$role","data","accessors","messages","renderItem","renderGroup","searchTerm","groupBy","elementRef","Option","renderList","useInstanceId","makeArray","groupedData","groupBySortedKeys","disabledItems","toItemArray","emptyList","useMessagesWithDefaults","divRef","elementProps","useImperativeHandle","renderOption","item","idx","textValue","itemIsDisabled","itemIsSelected","group","rootProps","setActiveDescendant","useActiveDescendant","visible","dataValue","field","dataText","textField","valueMatcher","dataKey","dataIndexOf","valueDataKey","datum","useAccessors","presets","normalizeFilter","filter","filterPreset","useFilteredData","filterer","textAccessor","BusySpinner","baseCls","jsx","BankaiSpinner","BusySpinner$1","SelectIcon","BankaiChevronDown","SelectIcon$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}