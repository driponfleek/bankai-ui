{"version":3,"file":"NumberPicker-d56644d0.js","sources":["../../../../node_modules/dom-helpers/esm/activeElement.js","../../../../node_modules/react-widgets/esm/NumberInput.js","../../../../node_modules/react-widgets/esm/NumberPicker.js","../../../components/form-elements-rw/src/components/number-picker/IncrementIcon.jsx","../../../components/form-elements-rw/src/components/number-picker/DecrementIcon.jsx","../../../components/form-elements-rw/src/NumberPicker.jsx"],"sourcesContent":["import ownerDocument from './ownerDocument';\n/**\n * Returns the actively focused element safely.\n *\n * @param doc the document to check\n */\n\nexport default function activeElement(doc) {\n  if (doc === void 0) {\n    doc = ownerDocument();\n  }\n\n  // Support: IE 9 only\n  // IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n  try {\n    var active = doc.activeElement; // IE11 returns a seemingly empty object in some cases when accessing\n    // document.activeElement from an <iframe>\n\n    if (!active || !active.nodeName) return null;\n    return active;\n  } catch (e) {\n    /* ie throws if no active element */\n    return doc.body;\n  }\n}","const _excluded = [\"disabled\", \"readOnly\", \"placeholder\", \"innerRef\", \"min\", \"max\", \"localizer\", \"editing\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport activeElement from 'dom-helpers/activeElement';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport Input from './Input';\nimport * as CustomPropTypes from './PropTypes';\n\nlet isSign = val => (val || '').trim() === '-';\n\nfunction isPaddedZeros(str, localizer) {\n  let localeChar = localizer.decimalCharacter();\n  let [_, decimals] = str.split(localeChar);\n  return !!(decimals && decimals.match(/0+$/));\n}\n\nfunction isAtDelimiter(str, localizer) {\n  let localeChar = localizer.decimalCharacter();\n  let lastIndex = str.length - 1;\n  if (str.length < 1) return false;\n  let char = str[lastIndex];\n  return !!(char === localeChar && str.indexOf(char) === lastIndex);\n}\n\nclass NumberPickerInput extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.handleBlur = event => {\n      let str = this.state.stringValue;\n      let number = this.parseNumber(str); // if number is below the min\n      // we need to flush low values and decimal stops, onBlur means i'm done inputing\n\n      if (this.isIntermediateValue(number, str)) {\n        if (isNaN(number)) {\n          number = null;\n        }\n\n        this.props.onChange(number, event);\n      }\n    };\n\n    this.handleChange = event => {\n      let {\n        value,\n        onChange\n      } = this.props;\n      let stringValue = event.target.value,\n          numberValue = this.parseNumber(stringValue);\n      let isIntermediate = this.isIntermediateValue(numberValue, stringValue);\n\n      if (stringValue == null || stringValue.trim() === '') {\n        this.setStringValue('');\n        onChange(null, event);\n        return;\n      } // order here matters a lot\n\n\n      if (isIntermediate) {\n        this.setStringValue(stringValue);\n      } else if (numberValue !== value) {\n        onChange(numberValue, event);\n      } else if (stringValue != this.state.stringValue) {\n        this.setStringValue(stringValue);\n      }\n    };\n  }\n\n  getSnapshotBeforeUpdate({\n    editing\n  }) {\n    return {\n      reselectText: !editing && this.props.editing && this.isSelectingAllText()\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let {\n      value,\n      editing,\n      localizer\n    } = nextProps;\n    let decimal = localizer.decimalCharacter();\n    const stringValue = value == null || isNaN(value) ? '' : editing ? ('' + value).replace('.', decimal) : localizer.formatNumber(value\n    /*, 'default'*/\n    );\n    if (prevState.lastValueFromProps !== stringValue) return {\n      stringValue,\n      lastValueFromProps: stringValue\n    };\n    return null;\n  }\n\n  componentDidUpdate(_, __, {\n    reselectText\n  }) {\n    if (reselectText) findDOMNode(this).select();\n  } // this intermediate state is for when one runs into\n  // the decimal or are typing the number\n\n\n  setStringValue(stringValue) {\n    this.setState({\n      stringValue\n    });\n  }\n\n  isIntermediateValue(num, str) {\n    let {\n      localizer,\n      min\n    } = this.props;\n    return !!(num < min || isSign(str) || isAtDelimiter(str, localizer) || isPaddedZeros(str, localizer));\n  }\n\n  isSelectingAllText() {\n    const node = canUseDOM && findDOMNode(this);\n    return canUseDOM && activeElement() === node && node.selectionStart === 0 && node.selectionEnd === node.value.length;\n  }\n\n  parseNumber(strVal) {\n    let {\n      localizer,\n      parse: userParse\n    } = this.props;\n    if (userParse) return userParse(strVal, localizer);\n    return localizer.parseNumber(strVal);\n  }\n\n  render() {\n    let _this$props = this.props,\n        {\n      disabled,\n      readOnly,\n      placeholder,\n      // eslint-disable-next-line react/prop-types\n      innerRef,\n      min,\n      max\n    } = _this$props,\n        props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    let value = this.state.stringValue;\n    return /*#__PURE__*/React.createElement(Input, _extends({}, props, {\n      ref: innerRef,\n      inputMode: \"numeric\",\n      className: \"rw-widget-input\",\n      onChange: this.handleChange,\n      onBlur: this.handleBlur,\n      \"aria-valuenow\": value\n      /*HACK*/\n      ,\n      \"aria-valuemin\": isFinite(min) ? min : undefined,\n      \"aria-valuemax\": isFinite(max) ? max : undefined,\n      disabled: disabled,\n      readOnly: readOnly,\n      placeholder: placeholder,\n      value: value\n    }));\n  }\n\n}\n\nNumberPickerInput.defaultProps = {\n  value: null,\n  editing: false\n};\nNumberPickerInput.propTypes = {\n  value: PropTypes.number,\n  editing: PropTypes.bool,\n  placeholder: PropTypes.string,\n  localizer: PropTypes.object.isRequired,\n  parse: PropTypes.func,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled,\n  onChange: PropTypes.func.isRequired\n};\nexport default NumberPickerInput;","const _excluded = [\"className\", \"containerClassName\", \"disabled\", \"readOnly\", \"value\", \"min\", \"max\", \"incrementIcon\", \"decrementIcon\", \"placeholder\", \"autoFocus\", \"tabIndex\", \"parse\", \"name\", \"onChange\", \"messages\", \"format\", \"onKeyDown\", \"onKeyPress\", \"onKeyUp\", \"inputProps\", \"precision\", \"step\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport Button from './Button';\nimport { caretDown, caretUp } from './Icon';\nimport { useLocalizer } from './Localization';\nimport NumberInput from './NumberInput';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport * as CustomPropTypes from './PropTypes';\nimport useFocusManager from './useFocusManager';\nimport { notify } from './WidgetHelpers';\nimport useEventCallback from '@restart/hooks/useEventCallback'; // my tests in ie11/chrome/FF indicate that keyDown repeats\n// at about 35ms+/- 5ms after an initial 500ms delay. callback fires on the leading edge\n\nfunction createInterval(callback) {\n  let fn;\n  let id;\n\n  const cancel = () => clearTimeout(id);\n\n  id = window.setTimeout(fn = () => {\n    id = window.setTimeout(fn, 35);\n    callback(); //fire after everything in case the user cancels on the first call\n  }, 500);\n  return cancel;\n}\n\nfunction clamp(value, min, max) {\n  max = max == null ? Infinity : max;\n  min = min == null ? -Infinity : min;\n  if (value == null || value === '') return null;\n  return Math.max(Math.min(typeof value == 'string' ? parseInt(value) : value, max), min);\n}\n\nconst propTypes = {\n  /**\n   * @example ['valuePicker', [ [1, null] ]]\n   */\n  value: PropTypes.number,\n\n  /**\n   * @example ['onChangePicker', [ [1, null] ]]\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The minimum number that the NumberPicker value.\n   * @example ['prop', ['min', 0]]\n   */\n  min: PropTypes.number,\n\n  /**\n   * The maximum number that the NumberPicker value.\n   *\n   * @example ['prop', ['max', 0]]\n   */\n  max: PropTypes.number,\n\n  /**\n   * Amount to increase or decrease value when using the spinner buttons.\n   *\n   * @example ['prop', ['step', 5]]\n   */\n  step: PropTypes.number,\n\n  /**\n   * Specify how precise the `value` should be when typing, incrementing, or decrementing the value.\n   * When empty, precision is parsed from the current `format` and culture.\n   */\n  precision: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]),\n\n  /**\n   * A format string used to display the number value. Localizer dependent, read about [localization](localization) for more info.\n   *\n   * @example ['prop', { max: 1, min: -1 , defaultValue: 0.2585, format: \"{ style: 'percent' }\" }]\n   */\n  format: PropTypes.any,\n  parse: PropTypes.func,\n  incrementIcon: PropTypes.node,\n  decrementIcon: PropTypes.node,\n\n  /** @ignore */\n  tabIndex: PropTypes.any,\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  onKeyDown: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  onKeyUp: PropTypes.func,\n  autoFocus: PropTypes.bool,\n\n  /**\n   * @example ['disabled', ['1']]\n   */\n  disabled: CustomPropTypes.disabled,\n\n  /**\n   * @example ['readOnly', ['1.5']]\n   */\n  readOnly: CustomPropTypes.disabled,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  messages: PropTypes.shape({\n    increment: PropTypes.string,\n    decrement: PropTypes.string\n  }),\n\n  /** @ignore */\n  localizer: PropTypes.object\n};\nconst defaultProps = {\n  incrementIcon: caretUp,\n  decrementIcon: caretDown,\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  precision: 'auto'\n};\n\n/**\n * ---\n * localized: true\n * shortcuts:\n *   - { key: down arrow, label: decrement value }\n *   - { key: up arrow, label: increment value }\n *   - { key: home, label: set value to minimum value, if finite }\n *   - { key: end, label: set value to maximum value, if finite }\n * ---\n *\n * @public\n */\nfunction NumberPicker(uncontrolledProps) {\n  const _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    value: 'onChange'\n  }),\n        {\n    className,\n    containerClassName,\n    disabled,\n    readOnly,\n    value,\n    min,\n    max,\n    incrementIcon,\n    decrementIcon,\n    placeholder,\n    autoFocus,\n    tabIndex,\n    parse,\n    name,\n    onChange,\n    messages,\n    format,\n    onKeyDown,\n    onKeyPress,\n    onKeyUp,\n    inputProps,\n    precision,\n    step: pStep\n  } = _useUncontrolled,\n        elementProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  const localizer = useLocalizer(messages, {\n    number: format\n  });\n  const ref = useRef(null);\n  const inputRef = useRef(null);\n  const repeaterRef = useRef(null);\n  const [focusEvents, focused] = useFocusManager(ref, uncontrolledProps, {\n    willHandle(focused) {\n      if (focused) focus();\n    }\n\n  });\n  const handleMouseDown = useEventCallback((direction, event) => {\n    if (event) event.persist();\n    let method = direction === 'UP' ? increment : decrement;\n    let value = method(event),\n        atTop = direction === 'UP' && value === max,\n        atBottom = direction === 'DOWN' && value === min;\n    if (atTop || atBottom) handleMouseUp();else if (!repeaterRef.current) {\n      repeaterRef.current = createInterval(() => {\n        handleMouseDown(direction, event);\n      });\n    }\n  });\n  const handleMouseUp = useEventCallback(() => {\n    if (!repeaterRef.current) return;\n    repeaterRef.current();\n    repeaterRef.current = null;\n  });\n  const handleKeyDown = useEventCallback(event => {\n    if (readOnly) return;\n    let key = event.key;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n    if (key === 'End' && isFinite(max)) handleChange(max, event);else if (key === 'Home' && isFinite(min)) handleChange(min, event);else if (key === 'ArrowDown') {\n      event.preventDefault();\n      decrement(event);\n    } else if (key === 'ArrowUp') {\n      event.preventDefault();\n      increment(event);\n    }\n  });\n\n  const handleChange = (rawValue, originalEvent = null) => {\n    let nextValue = clamp(rawValue, min, max);\n    if (value !== nextValue) notify(onChange, [nextValue, {\n      rawValue,\n      originalEvent,\n      lastValue: value\n    }]);\n  };\n\n  function focus() {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.focus();\n  }\n\n  function increment(event) {\n    return step(pStep, event);\n  }\n\n  function decrement(event) {\n    return step(-pStep, event);\n  }\n\n  function step(amount, event) {\n    const nextValue = (value || 0) + amount;\n    let p = precision === 'auto' ? Math.max(getPrecision(value || 0), getPrecision(amount)) : precision;\n    handleChange(p != null ? parseFloat(nextValue.toFixed(p)) : nextValue, event);\n    return nextValue;\n  }\n\n  const clampedValue = clamp(value, min, max);\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    focused: focused,\n    disabled: disabled,\n    readOnly: readOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    ref: ref,\n    className: cn(className, 'rw-number-picker')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    className: containerClassName\n  }, /*#__PURE__*/React.createElement(NumberInput, _extends({}, inputProps, {\n    role: \"spinbutton\",\n    tabIndex: tabIndex,\n    value: clampedValue,\n    placeholder: placeholder,\n    autoFocus: autoFocus,\n    editing: focused,\n    localizer: localizer,\n    parse: parse,\n    name: name,\n    min: min,\n    max: max,\n    disabled: disabled,\n    readOnly: readOnly,\n    onChange: handleChange,\n    onKeyPress: onKeyPress,\n    onKeyUp: onKeyUp,\n    innerRef: inputRef\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-input-addon rw-number-picker-spinners\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: incrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === max || disabled || readOnly,\n    label: localizer.messages.increment({\n      value: clampedValue,\n      min,\n      max\n    }),\n    onMouseUp: () => handleMouseUp(),\n    onMouseDown: e => handleMouseDown('UP', e),\n    onMouseLeave: () => handleMouseUp()\n  }), /*#__PURE__*/React.createElement(Button, {\n    icon: decrementIcon,\n    className: \"rw-picker-btn\",\n    disabled: clampedValue === min || disabled || readOnly,\n    label: localizer.messages.decrement({\n      value: clampedValue,\n      min,\n      max\n    }),\n    onMouseUp: () => handleMouseUp(),\n    onMouseDown: e => handleMouseDown('DOWN', e),\n    onMouseLeave: () => handleMouseUp()\n  }))));\n}\n\n;\nNumberPicker.propTypes = propTypes;\nNumberPicker.defaultProps = defaultProps;\nexport default NumberPicker;\n\nfunction getPrecision(a) {\n  if (!isFinite(a)) return 0;\n  let e = 1;\n  let p = 0;\n\n  while (Math.round(a * e) / e !== a) {\n    e *= 10;\n    p++;\n  }\n\n  return p;\n}","import PropTypes from 'prop-types';\nimport { BankaiChevronUp } from '@driponfleek/bankai-ui-icons';\n\nconst IncrementIcon = (props) => {\n    const { baseCls } = props;\n\n    return <BankaiChevronUp contextCls={`${baseCls}__increment-icon`} />;\n};\n\nIncrementIcon.propTypes = {\n    baseCls: PropTypes.string,\n};\n\nexport default IncrementIcon;\n","import PropTypes from 'prop-types';\nimport { BankaiChevronDown } from '@driponfleek/bankai-ui-icons';\n\nconst DecrementIcon = (props) => {\n    const { baseCls } = props;\n\n    return <BankaiChevronDown contextCls={`${baseCls}__decrement-icon`} />;\n};\n\nDecrementIcon.propTypes = {\n    baseCls: PropTypes.string,\n};\n\nexport default DecrementIcon;\n","import PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { debounce } from '@driponfleek/bankai-lib-helper-utils';\nimport RWNumberPicker from 'react-widgets/NumberPicker';\nimport IncrementIcon from './components/number-picker/IncrementIcon';\nimport DecrementIcon from './components/number-picker/DecrementIcon';\nimport { getNumberPickerExtantProps } from './utils/extantPropsUtils';\n\n// Styles\nimport './styles/number-picker.scss';\n\nconst NumberPicker = (props) => {\n    const {\n        contextCls,\n        hasError,\n        onBlur,\n        onFocus,\n        onKeyDown,\n        onKeyPress,\n        onKeyUp,\n        renderDecrementIcon,\n        renderIncrementIcon,\n    } = props;\n    const baseCls = 'bankai-number-picker';\n    const npProps = getNumberPickerExtantProps(props);\n    const modCls = {\n        [`${baseCls}--error`]: hasError,\n    };\n    const incrementIcon = renderIncrementIcon({\n        baseCls,\n    });\n    const decrementIcon = renderDecrementIcon({\n        baseCls,\n    });\n    const handleChangeComplete = debounce((params) => {\n        const { onChangeComplete } = props;\n\n        onChangeComplete(params);\n    }, 300);\n    const handleChange = (newValue) => {\n        const { onChange, name, value } = props;\n\n        if (newValue !== value) {\n            const params = {\n                name,\n                newValue,\n            };\n\n            onChange(params);\n            handleChangeComplete(params);\n        }\n    };\n\n    return (\n        <RWNumberPicker\n            {...npProps}\n            className={cx(baseCls, modCls, contextCls)}\n            decrementIcon={decrementIcon}\n            incrementIcon={incrementIcon}\n            onBlur={onBlur}\n            onChange={handleChange}\n            onFocus={onFocus}\n            onKeyDown={onKeyDown}\n            onKeyPress={onKeyPress}\n            onKeyUp={onKeyUp}\n        />\n    );\n};\n\nNumberPicker.defaultProps = {\n    hasError: false,\n    isDisabled: false,\n    isReadOnly: false,\n    shouldAutoFocus: false,\n    inputProps: {},\n    onBlur: () => Promise.resolve(),\n    onChange: () => Promise.resolve(),\n    onChangeComplete: () => Promise.resolve(),\n    onFocus: () => Promise.resolve(),\n    onKeyDown: () => Promise.resolve(),\n    onKeyPress: () => Promise.resolve(),\n    onKeyUp: () => Promise.resolve(),\n    renderIncrementIcon: IncrementIcon,\n    renderDecrementIcon: DecrementIcon,\n};\n\nNumberPicker.propTypes = {\n    contextCls: PropTypes.string,\n    format: PropTypes.string,\n    id: PropTypes.string,\n    name: PropTypes.string,\n    placeholder: PropTypes.string,\n    max: PropTypes.number,\n    min: PropTypes.number,\n    precision: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    step: PropTypes.number,\n    value: PropTypes.number,\n    hasError: PropTypes.bool,\n    isDisabled: PropTypes.bool,\n    isReadOnly: PropTypes.bool,\n    shouldAutoFocus: PropTypes.bool,\n    inputProps: PropTypes.object,\n    messages: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onChangeComplete: PropTypes.func,\n    onFocus: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    renderDecrementIcon: PropTypes.func,\n    renderIncrementIcon: PropTypes.func,\n};\n\nexport default NumberPicker;\n"],"names":["activeElement","doc","ownerDocument","active","_excluded","_extends","target","i","source","key","_objectWithoutPropertiesLoose","excluded","sourceKeys","isSign","val","isPaddedZeros","str","localizer","localeChar","_","decimals","isAtDelimiter","lastIndex","char","NumberPickerInput","React","args","event","number","value","onChange","stringValue","numberValue","isIntermediate","editing","nextProps","prevState","decimal","__","reselectText","findDOMNode","num","min","node","canUseDOM","strVal","userParse","_this$props","disabled","readOnly","placeholder","innerRef","max","props","Input","PropTypes","CustomPropTypes.disabled","createInterval","callback","fn","id","cancel","clamp","propTypes","defaultProps","caretUp","caretDown","NumberPicker","uncontrolledProps","_useUncontrolled","useUncontrolled","className","containerClassName","incrementIcon","decrementIcon","autoFocus","tabIndex","parse","name","messages","format","onKeyDown","onKeyPress","onKeyUp","inputProps","precision","pStep","elementProps","useLocalizer","ref","useRef","inputRef","repeaterRef","focusEvents","focused","useFocusManager","focus","handleMouseDown","useEventCallback","direction","increment","decrement","handleMouseUp","handleKeyDown","notify","handleChange","rawValue","originalEvent","nextValue","_inputRef$current","step","amount","p","getPrecision","clampedValue","Widget","cn","WidgetPicker","NumberInput","Button","e","a","IncrementIcon","baseCls","jsx","BankaiChevronUp","IncrementIcon$1","DecrementIcon","BankaiChevronDown","DecrementIcon$1","contextCls","hasError","onBlur","onFocus","renderDecrementIcon","renderIncrementIcon","npProps","getNumberPickerExtantProps","modCls","handleChangeComplete","debounce","params","onChangeComplete","newValue","RWNumberPicker","cx","NumberPicker$1"],"mappings":"ulBAOe,SAASA,GAAcC,EAAK,CACrCA,IAAQ,SACVA,EAAMC,GAAa,GAKrB,GAAI,CACF,IAAIC,EAASF,EAAI,cAGjB,MAAI,CAACE,GAAU,CAACA,EAAO,SAAiB,KACjCA,CACR,MAAW,CAEV,OAAOF,EAAI,IACZ,CACH,CCxBA,MAAMG,GAAY,CAAC,WAAY,WAAY,cAAe,WAAY,MAAO,MAAO,YAAa,SAAS,EAE1G,SAASC,GAAW,CAAEA,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAQ,CAAE,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAAE,IAAIC,EAAS,UAAUD,CAAC,EAAG,QAASE,KAAOD,EAAc,OAAO,UAAU,eAAe,KAAKA,EAAQC,CAAG,IAAKH,EAAOG,CAAG,EAAID,EAAOC,CAAG,EAAQ,CAAC,OAAOH,GAAkBD,EAAS,MAAM,KAAM,SAAS,CAAI,CAE7T,SAASK,GAA8BF,EAAQG,EAAU,CAAE,GAAIH,GAAU,KAAM,MAAO,CAAE,EAAE,IAAIF,EAAS,CAAE,EAAMM,EAAa,OAAO,KAAKJ,CAAM,EAAOC,EAAK,EAAG,IAAK,EAAI,EAAG,EAAIG,EAAW,OAAQ,IAAOH,EAAMG,EAAW,CAAC,EAAO,EAAAD,EAAS,QAAQF,CAAG,GAAK,KAAaH,EAAOG,CAAG,EAAID,EAAOC,CAAG,GAAK,OAAOH,CAAS,CAUnT,IAAIO,GAASC,IAAQA,GAAO,IAAI,KAAM,IAAK,IAE3C,SAASC,GAAcC,EAAKC,EAAW,CACrC,IAAIC,EAAaD,EAAU,mBACvB,CAACE,EAAGC,CAAQ,EAAIJ,EAAI,MAAME,CAAU,EACxC,MAAO,CAAC,EAAEE,GAAYA,EAAS,MAAM,KAAK,EAC5C,CAEA,SAASC,GAAcL,EAAKC,EAAW,CACrC,IAAIC,EAAaD,EAAU,mBACvBK,EAAYN,EAAI,OAAS,EAC7B,GAAIA,EAAI,OAAS,EAAG,MAAO,GAC3B,IAAIO,EAAOP,EAAIM,CAAS,EACxB,OAAUC,IAASL,GAAcF,EAAI,QAAQO,CAAI,IAAMD,CACzD,CAEA,MAAME,UAA0BC,EAAM,SAAU,CAC9C,eAAeC,EAAM,CACnB,MAAM,GAAGA,CAAI,EACb,KAAK,MAAQ,GAEb,KAAK,WAAaC,GAAS,CACzB,IAAIX,EAAM,KAAK,MAAM,YACjBY,EAAS,KAAK,YAAYZ,CAAG,EAG7B,KAAK,oBAAoBY,EAAQZ,CAAG,IAClC,MAAMY,CAAM,IACdA,EAAS,MAGX,KAAK,MAAM,SAASA,EAAQD,CAAK,EAEzC,EAEI,KAAK,aAAeA,GAAS,CAC3B,GAAI,CACF,MAAAE,EACA,SAAAC,CACR,EAAU,KAAK,MACLC,EAAcJ,EAAM,OAAO,MAC3BK,EAAc,KAAK,YAAYD,CAAW,EAC1CE,EAAiB,KAAK,oBAAoBD,EAAaD,CAAW,EAEtE,GAAIA,GAAe,MAAQA,EAAY,KAAI,IAAO,GAAI,CACpD,KAAK,eAAe,EAAE,EACtBD,EAAS,KAAMH,CAAK,EACpB,MACD,CAGGM,EACF,KAAK,eAAeF,CAAW,EACtBC,IAAgBH,EACzBC,EAASE,EAAaL,CAAK,EAClBI,GAAe,KAAK,MAAM,aACnC,KAAK,eAAeA,CAAW,CAEvC,CACG,CAED,wBAAwB,CACtB,QAAAG,CACJ,EAAK,CACD,MAAO,CACL,aAAc,CAACA,GAAW,KAAK,MAAM,SAAW,KAAK,mBAAoB,CAC/E,CACG,CAED,OAAO,yBAAyBC,EAAWC,EAAW,CACpD,GAAI,CACF,MAAAP,EACA,QAAAK,EACA,UAAAjB,CACD,EAAGkB,EACAE,EAAUpB,EAAU,mBACxB,MAAMc,EAAcF,GAAS,MAAQ,MAAMA,CAAK,EAAI,GAAKK,GAAW,GAAKL,GAAO,QAAQ,IAAKQ,CAAO,EAAIpB,EAAU,aAAaY,CAEnI,EACI,OAAIO,EAAU,qBAAuBL,EAAoB,CACvD,YAAAA,EACA,mBAAoBA,CAC1B,EACW,IACR,CAED,mBAAmBZ,EAAGmB,EAAI,CACxB,aAAAC,CACJ,EAAK,CACGA,GAAcC,GAAW,YAAC,IAAI,EAAE,OAAM,CAC3C,CAID,eAAeT,EAAa,CAC1B,KAAK,SAAS,CACZ,YAAAA,CACN,CAAK,CACF,CAED,oBAAoBU,EAAKzB,EAAK,CAC5B,GAAI,CACF,UAAAC,EACA,IAAAyB,CACN,EAAQ,KAAK,MACT,MAAO,CAAC,EAAED,EAAMC,GAAO7B,GAAOG,CAAG,GAAKK,GAAcL,EAAKC,CAAS,GAAKF,GAAcC,EAAKC,CAAS,EACpG,CAED,oBAAqB,CACnB,MAAM0B,EAAOC,GAAaJ,GAAW,YAAC,IAAI,EAC1C,OAAOI,GAAa5C,OAAoB2C,GAAQA,EAAK,iBAAmB,GAAKA,EAAK,eAAiBA,EAAK,MAAM,MAC/G,CAED,YAAYE,EAAQ,CAClB,GAAI,CACF,UAAA5B,EACA,MAAO6B,CACb,EAAQ,KAAK,MACT,OAAIA,EAAkBA,EAAUD,EAAQ5B,CAAS,EAC1CA,EAAU,YAAY4B,CAAM,CACpC,CAED,QAAS,CACP,IAAIE,EAAc,KAAK,MACnB,CACF,SAAAC,EACA,SAAAC,EACA,YAAAC,EAEA,SAAAC,EACA,IAAAT,EACA,IAAAU,CACN,EAAQL,EACAM,EAAQ3C,GAA8BqC,EAAa3C,EAAS,EAE5DyB,EAAQ,KAAK,MAAM,YACvB,OAAoBJ,EAAM,cAAc6B,GAAOjD,EAAS,CAAA,EAAIgD,EAAO,CACjE,IAAKF,EACL,UAAW,UACX,UAAW,kBACX,SAAU,KAAK,aACf,OAAQ,KAAK,WACb,gBAAiBtB,EAGjB,gBAAiB,SAASa,CAAG,EAAIA,EAAM,OACvC,gBAAiB,SAASU,CAAG,EAAIA,EAAM,OACvC,SAAUJ,EACV,SAAUC,EACV,YAAaC,EACb,MAAOrB,CACR,CAAA,CAAC,CACH,CAEH,CAEAL,EAAkB,aAAe,CAC/B,MAAO,KACP,QAAS,EACX,EACAA,EAAkB,UAAY,CAC5B,MAAO+B,EAAU,OACjB,QAASA,EAAU,KACnB,YAAaA,EAAU,OACvB,UAAWA,EAAU,OAAO,WAC5B,MAAOA,EAAU,KACjB,IAAKA,EAAU,OACf,IAAKA,EAAU,OACf,SAAUC,EACV,SAAUA,EACV,SAAUD,EAAU,KAAK,UAC3B,ECzLA,MAAMnD,GAAY,CAAC,YAAa,qBAAsB,WAAY,WAAY,QAAS,MAAO,MAAO,gBAAiB,gBAAiB,cAAe,YAAa,WAAY,QAAS,OAAQ,WAAY,WAAY,SAAU,YAAa,aAAc,UAAW,aAAc,YAAa,MAAM,EAEzS,SAASC,GAAW,CAAE,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAQ,CAAE,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAAE,IAAIC,EAAS,UAAUD,CAAC,EAAG,QAASE,KAAOD,EAAc,OAAO,UAAU,eAAe,KAAKA,EAAQC,CAAG,IAAKH,EAAOG,CAAG,EAAID,EAAOC,CAAG,EAAQ,CAAC,OAAOH,GAAkBD,EAAS,MAAM,KAAM,SAAS,CAAI,CAE7T,SAASK,GAA8BF,EAAQG,EAAU,CAAE,GAAIH,GAAU,KAAM,MAAO,CAAE,EAAE,IAAIF,EAAS,CAAE,EAAMM,EAAa,OAAO,KAAKJ,CAAM,EAAOC,EAAK,EAAG,IAAK,EAAI,EAAG,EAAIG,EAAW,OAAQ,IAAOH,EAAMG,EAAW,CAAC,EAAO,EAAAD,EAAS,QAAQF,CAAG,GAAK,KAAaH,EAAOG,CAAG,EAAID,EAAOC,CAAG,GAAK,OAAOH,CAAS,CAkBnT,SAASmD,GAAeC,EAAU,CAChC,IAAIC,EACAC,EAEJ,MAAMC,EAAS,IAAM,aAAaD,CAAE,EAEpC,OAAAA,EAAK,OAAO,WAAWD,EAAK,IAAM,CAChCC,EAAK,OAAO,WAAWD,EAAI,EAAE,EAC7BD,GACD,EAAE,GAAG,EACCG,CACT,CAEA,SAASC,GAAMjC,EAAOa,EAAKU,EAAK,CAG9B,OAFAA,EAAMA,GAAc,IACpBV,EAAMA,GAAc,KAChBb,GAAS,MAAQA,IAAU,GAAW,KACnC,KAAK,IAAI,KAAK,IAAI,OAAOA,GAAS,SAAW,SAASA,CAAK,EAAIA,EAAOuB,CAAG,EAAGV,CAAG,CACxF,CAEA,MAAMqB,GAAY,CAIhB,MAAOR,EAAU,OAKjB,SAAUA,EAAU,KAMpB,IAAKA,EAAU,OAOf,IAAKA,EAAU,OAOf,KAAMA,EAAU,OAMhB,UAAWA,EAAU,UAAU,CAACA,EAAU,OAAQA,EAAU,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAO5E,OAAQA,EAAU,IAClB,MAAOA,EAAU,KACjB,cAAeA,EAAU,KACzB,cAAeA,EAAU,KAGzB,SAAUA,EAAU,IACpB,KAAMA,EAAU,OAChB,YAAaA,EAAU,OACvB,UAAWA,EAAU,KACrB,WAAYA,EAAU,KACtB,QAASA,EAAU,KACnB,UAAWA,EAAU,KAKrB,SAAUC,EAKV,SAAUA,EAGV,mBAAoBD,EAAU,OAC9B,WAAYA,EAAU,OACtB,SAAUA,EAAU,MAAM,CACxB,UAAWA,EAAU,OACrB,UAAWA,EAAU,MACzB,CAAG,EAGD,UAAWA,EAAU,MACvB,EACMS,GAAe,CACnB,cAAeC,GACf,cAAeC,GACf,IAAK,KACL,IAAK,IACL,KAAM,EACN,UAAW,MACb,EAcA,SAASC,EAAaC,EAAmB,CACvC,MAAMC,EAAmBC,GAAgBF,EAAmB,CAC1D,MAAO,UACX,CAAG,EACK,CACJ,UAAAG,EACA,mBAAAC,EACA,SAAAxB,EACA,SAAAC,EACA,MAAApB,EACA,IAAAa,EACA,IAAAU,EACA,cAAAqB,EACA,cAAAC,EACA,YAAAxB,EACA,UAAAyB,EACA,SAAAC,EACA,MAAAC,EACA,KAAAC,EACA,SAAAhD,EACA,SAAAiD,EACA,OAAAC,EACA,UAAAC,EACA,WAAAC,EACA,QAAAC,EACA,WAAAC,GACA,UAAAC,EACA,KAAMC,CACV,EAAMjB,EACEkB,GAAe7E,GAA8B2D,EAAkBjE,EAAS,EAExEa,EAAYuE,GAAaT,EAAU,CACvC,OAAQC,CACZ,CAAG,EACKS,EAAMC,SAAO,IAAI,EACjBC,EAAWD,SAAO,IAAI,EACtBE,EAAcF,SAAO,IAAI,EACzB,CAACG,GAAaC,CAAO,EAAIC,GAAgBN,EAAKrB,EAAmB,CACrE,WAAW0B,EAAS,CACdA,GAASE,IACd,CAEL,CAAG,EACKC,EAAkBC,EAAiB,CAACC,EAAWxE,IAAU,CACzDA,GAAOA,EAAM,UAEjB,IAAIE,GADSsE,IAAc,KAAOC,EAAYC,GAC3B1E,CAAK,EACZwE,IAAc,MAAQtE,IAAUuB,GAC7B+C,IAAc,QAAUtE,IAAUa,EAC1B4D,EAAa,EAAaV,EAAY,UAC3DA,EAAY,QAAUnC,GAAe,IAAM,CACzCwC,EAAgBE,EAAWxE,CAAK,CACxC,CAAO,EAEP,CAAG,EACK2E,EAAgBJ,EAAiB,IAAM,CACtCN,EAAY,UACjBA,EAAY,QAAO,EACnBA,EAAY,QAAU,KAC1B,CAAG,EACKW,GAAgBL,EAAiBvE,GAAS,CAC9C,GAAIsB,EAAU,OACd,IAAIxC,EAAMkB,EAAM,IAChB6E,GAAOvB,EAAW,CAACtD,CAAK,CAAC,EACrB,CAAAA,EAAM,mBACNlB,IAAQ,OAAS,SAAS2C,CAAG,EAAGqD,EAAarD,EAAKzB,CAAK,EAAWlB,IAAQ,QAAU,SAASiC,CAAG,EAAG+D,EAAa/D,EAAKf,CAAK,EAAWlB,IAAQ,aAC/IkB,EAAM,eAAc,EACpB0E,EAAU1E,CAAK,GACNlB,IAAQ,YACjBkB,EAAM,eAAc,EACpByE,EAAUzE,CAAK,GAErB,CAAG,EAEK8E,EAAe,CAACC,EAAUC,EAAgB,OAAS,CACvD,IAAIC,EAAY9C,GAAM4C,EAAUhE,EAAKU,CAAG,EACpCvB,IAAU+E,GAAWJ,GAAO1E,EAAU,CAAC8E,EAAW,CACpD,SAAAF,EACA,cAAAC,EACA,UAAW9E,CACZ,CAAA,CAAC,CACN,EAEE,SAASmE,IAAQ,CACf,IAAIa,GAEHA,EAAoBlB,EAAS,UAAY,MAAgBkB,EAAkB,OAC7E,CAED,SAAST,EAAUzE,EAAO,CACxB,OAAOmF,EAAKxB,EAAO3D,CAAK,CACzB,CAED,SAAS0E,EAAU1E,EAAO,CACxB,OAAOmF,EAAK,CAACxB,EAAO3D,CAAK,CAC1B,CAED,SAASmF,EAAKC,EAAQpF,EAAO,CAC3B,MAAMiF,GAAa/E,GAAS,GAAKkF,EACjC,IAAIC,EAAI3B,IAAc,OAAS,KAAK,IAAI4B,GAAapF,GAAS,CAAC,EAAGoF,GAAaF,CAAM,CAAC,EAAI1B,EAC1F,OAAAoB,EAAaO,GAAK,KAAO,WAAWJ,EAAU,QAAQI,CAAC,CAAC,EAAIJ,EAAWjF,CAAK,EACrEiF,CACR,CAED,MAAMM,EAAepD,GAAMjC,EAAOa,EAAKU,CAAG,EAC1C,OAAoB3B,EAAM,cAAc0F,GAAQ9G,EAAS,CAAA,EAAIkF,GAAc,CACzE,QAASO,EACT,SAAU9C,EACV,SAAUC,EACV,UAAWsD,EACZ,EAAEV,GAAa,CACd,IAAKJ,EACL,UAAW2B,GAAG7C,EAAW,kBAAkB,CAC/C,CAAG,EAAgB9C,EAAM,cAAc4F,GAAc,CACjD,UAAW7C,CACf,EAAkB/C,EAAM,cAAc6F,EAAajH,EAAS,CAAA,EAAI+E,GAAY,CACxE,KAAM,aACN,SAAUR,EACV,MAAOsC,EACP,YAAahE,EACb,UAAWyB,EACX,QAASmB,EACT,UAAW7E,EACX,MAAO4D,EACP,KAAMC,EACN,IAAKpC,EACL,IAAKU,EACL,SAAUJ,EACV,SAAUC,EACV,SAAUwD,EACV,WAAYvB,EACZ,QAASC,EACT,SAAUQ,CACX,CAAA,CAAC,EAAgBlE,EAAM,cAAc,OAAQ,CAC5C,UAAW,0CACf,EAAkBA,EAAM,cAAc8F,GAAQ,CAC1C,KAAM9C,EACN,UAAW,gBACX,SAAUyC,IAAiB9D,GAAOJ,GAAYC,EAC9C,MAAOhC,EAAU,SAAS,UAAU,CAClC,MAAOiG,EACP,IAAAxE,EACA,IAAAU,CACN,CAAK,EACD,UAAW,IAAMkD,EAAe,EAChC,YAAakB,GAAKvB,EAAgB,KAAMuB,CAAC,EACzC,aAAc,IAAMlB,EAAe,CACvC,CAAG,EAAgB7E,EAAM,cAAc8F,GAAQ,CAC3C,KAAM7C,EACN,UAAW,gBACX,SAAUwC,IAAiBxE,GAAOM,GAAYC,EAC9C,MAAOhC,EAAU,SAAS,UAAU,CAClC,MAAOiG,EACP,IAAAxE,EACA,IAAAU,CACN,CAAK,EACD,UAAW,IAAMkD,EAAe,EAChC,YAAakB,GAAKvB,EAAgB,OAAQuB,CAAC,EAC3C,aAAc,IAAMlB,EAAe,CACvC,CAAG,CAAC,CAAC,CAAC,CACN,CAGAnC,EAAa,UAAYJ,GACzBI,EAAa,aAAeH,GAG5B,SAASiD,GAAaQ,EAAG,CACvB,GAAI,CAAC,SAASA,CAAC,EAAG,MAAO,GACzB,IAAI,EAAI,EACJT,EAAI,EAER,KAAO,KAAK,MAAMS,EAAI,CAAC,EAAI,IAAMA,GAC/B,GAAK,GACLT,IAGF,OAAOA,CACT,CC3TA,MAAAU,EAAArE,GAAA,CACA,KAAA,CAAA,QAAAsE,CAAA,EAAAtE,EAEA,OAAAuE,EAAAC,GAAA,CAAA,WAAA,GAAAF,CAAA,kBAAA,CAAA,CACA,EAEAD,EAAA,UAAA,CACA,QAAAnE,EAAA,MACA,EAEA,MAAAuE,GAAAJ,2ICVA,MAAAK,EAAA1E,GAAA,CACA,KAAA,CAAA,QAAAsE,CAAA,EAAAtE,EAEA,OAAAuE,EAAAI,GAAA,CAAA,WAAA,GAAAL,CAAA,kBAAA,CAAA,CACA,EAEAI,EAAA,UAAA,CACA,QAAAxE,EAAA,MACA,EAEA,MAAA0E,GAAAF,2ICFA,MAAA5D,EAAAd,GAAA,CACA,KAAA,CACA,WAAA6E,EACA,SAAAC,EACA,OAAAC,EACA,QAAAC,EACA,UAAApD,EACA,WAAAC,EACA,QAAAC,EACA,oBAAAmD,EACA,oBAAAC,CACA,EAAAlF,EACAsE,EAAA,uBACAa,EAAAC,GAAApF,CAAA,EACAqF,EAAA,CACA,CAAA,GAAAf,CAAA,SAAA,EAAAQ,CAAA,EAEA1D,EAAA8D,EAAA,CACA,QAAAZ,CAAA,CACA,EACAjD,EAAA4D,EAAA,CACA,QAAAX,CAAA,CACA,EACAgB,EAAAC,GAAAC,GAAA,CACA,KAAA,CAAA,iBAAAC,CAAA,EAAAzF,EAEAyF,EAAAD,CAAA,GACA,GAAA,EACApC,EAAAsC,GAAA,CACA,KAAA,CAAA,SAAAjH,EAAA,KAAAgD,EAAA,MAAAjD,CAAA,EAAAwB,EAEA,GAAA0F,IAAAlH,EAAA,CACA,MAAAgH,EAAA,CACA,KAAA/D,EACA,SAAAiE,CAAA,EAGAjH,EAAA+G,CAAA,EACAF,EAAAE,CAAA,CACA,CAAA,EAIA,OAAAjB,EAAAoB,EAAA,CACA,GAAAR,EACA,UAAAS,GAAAtB,EAAAe,EAAAR,CAAA,EACA,cAAAxD,EACA,cAAAD,EACA,OAAA2D,EACA,SAAA3B,EACA,QAAA4B,EACA,UAAApD,EACA,WAAAC,EACA,QAAAC,CAAA,CAAA,CAGA,EAEAhB,EAAA,aAAA,CACA,SAAA,GACA,WAAA,GACA,WAAA,GACA,gBAAA,GACA,WAAA,CAAA,EACA,OAAA,IAAA,QAAA,QAAA,EACA,SAAA,IAAA,QAAA,QAAA,EACA,iBAAA,IAAA,QAAA,QAAA,EACA,QAAA,IAAA,QAAA,QAAA,EACA,UAAA,IAAA,QAAA,QAAA,EACA,WAAA,IAAA,QAAA,QAAA,EACA,QAAA,IAAA,QAAA,QAAA,EACA,oBAAAuD,GACA,oBAAAK,EACA,EAEA5D,EAAA,UAAA,CACA,WAAAZ,EAAA,OACA,OAAAA,EAAA,OACA,GAAAA,EAAA,OACA,KAAAA,EAAA,OACA,YAAAA,EAAA,OACA,IAAAA,EAAA,OACA,IAAAA,EAAA,OACA,UAAAA,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,MAAA,CAAA,EACA,KAAAA,EAAA,OACA,MAAAA,EAAA,OACA,SAAAA,EAAA,KACA,WAAAA,EAAA,KACA,WAAAA,EAAA,KACA,gBAAAA,EAAA,KACA,WAAAA,EAAA,OACA,SAAAA,EAAA,OACA,OAAAA,EAAA,KACA,SAAAA,EAAA,KACA,iBAAAA,EAAA,KACA,QAAAA,EAAA,KACA,UAAAA,EAAA,KACA,WAAAA,EAAA,KACA,QAAAA,EAAA,KACA,oBAAAA,EAAA,KACA,oBAAAA,EAAA,IACA,EAEA,MAAA2F,GAAA/E;;;;;;;;","x_google_ignoreList":[0,1,2]}