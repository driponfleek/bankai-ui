import{c as C,P as E}from"./localeUtils--UUmbdnw.js";import{R as l}from"./iframe-X-brMXKZ.js";import{o as k,k as X,n as P}from"./extantPropsUtils-DAFKIOU6.js";import{_ as $}from"./extends-V8a3TPL4.js";import{R as x}from"./blocks-W-vzZJEX.js";function w(t,n){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},w(t,n)}function W(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n)}var G=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ot(t,n){return G(t.querySelectorAll(n))}function Ct(t){return Array.isArray(t)?t:[]}const wt=(t,n=!0)=>{const e=[];return n&&t==null?e:e.concat(t)},F=(t,n)=>t?Object.prototype.hasOwnProperty.call(t,n):!1;function Nt(t,n){let e=0,i=t?t.length:0,o=[];for(n=Math.max(+n||1,1);e<i;)o.push(t.slice(e,e+=n));return o}function St(t,n,e=[]){const i=typeof t=="function"?t:r=>r[t];typeof t!="string"||!n.length||F(n[0],t);const o=new Map;return n.forEach(r=>{let s=i(r);o.has(s)?o.get(s).push(r):o.set(s,[r])}),Array.from(o)}function q(t){var n=k(t);return n&&n.defaultView||window}function V(t,n){return q(t).getComputedStyle(t,n)}var K=/([A-Z])/g;function Y(t){return t.replace(K,"-$1").toLowerCase()}var Z=/^ms-/;function y(t){return Y(t).replace(Z,"-ms-")}var J=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Q(t){return!!(t&&J.test(t))}function N(t,n){var e="",i="";if(typeof n=="string")return t.style.getPropertyValue(y(n))||V(t).getPropertyValue(y(n));Object.keys(n).forEach(function(o){var r=n[o];!r&&r!==0?t.style.removeProperty(y(o)):Q(o)?i+=o+"("+r+") ":e+=y(o)+": "+r+";"}),i&&(e+="transform: "+i+";"),t.style.cssText+=";"+e}function B(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function U(t){return"window"in t&&t.window===t?t:B(t)&&t.defaultView||!1}function z(t,n){if(t.contains)return t.contains(n);if(t.compareDocumentPosition)return t===n||!!(t.compareDocumentPosition(n)&16)}function M(t){var n=t==="pageXOffset"?"scrollLeft":"scrollTop";function e(i,o){var r=U(i);if(o===void 0)return r?r[t]:i[n];r?r.scrollTo(r[t],o):i[n]=o}return e}const tt=M("pageXOffset"),et=M("pageYOffset");function nt(t){var n=k(t),e={top:0,left:0,height:0,width:0},i=n&&n.documentElement;return!i||!z(i,t)||(t.getBoundingClientRect!==void 0&&(e=t.getBoundingClientRect()),e={top:e.top+et(i)-(i.clientTop||0),left:e.left+tt(i)-(i.clientLeft||0),width:e.width,height:e.height}),e}function rt(t,n){var e=U(t);return e?e.innerHeight:nt(t).height}var S=!1,_=!1;try{var O={get passive(){return S=!0},get once(){return _=S=!0}};X&&(window.addEventListener("test",O,O),window.removeEventListener("test",O,!0))}catch{}function it(t,n,e,i){if(i&&typeof i!="boolean"&&!_){var o=i.once,r=i.capture,s=e;!_&&o&&(s=e.__once||function a(u){this.removeEventListener(n,a,r),e.call(this,u)},e.__once=s),t.addEventListener(n,s,S?i:r)}t.addEventListener(n,e,i)}function ot(t,n,e,i){var o=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(n,e,o),e.__once&&t.removeEventListener(n,e.__once,o)}function j(t,n,e,i){return it(t,n,e,i),function(){ot(t,n,e,i)}}function st(t,n,e,i){if(i===void 0&&(i=!0),t){var o=document.createEvent("HTMLEvents");o.initEvent(n,e,i),t.dispatchEvent(o)}}function at(t){var n=N(t,"transitionDuration")||"",e=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*e}function ut(t,n,e){e===void 0&&(e=5);var i=!1,o=setTimeout(function(){i||st(t,"transitionend",!0)},n+e),r=j(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(o),r()}}function lt(t,n,e,i){e==null&&(e=at(t)||0);var o=ut(t,e,i),r=j(t,"transitionend",n);return function(){o(),r()}}const R={disabled:!1},I=l.createContext(null);var ct=function(n){return n.scrollTop},g="unmounted",f="exited",d="entering",v="entered",T="exiting",c=function(t){W(n,t);function n(i,o){var r;r=t.call(this,i,o)||this;var s=o,a=s&&!s.isMounting?i.enter:i.appear,u;return r.appearStatus=null,i.in?a?(u=f,r.appearStatus=d):u=v:i.unmountOnExit||i.mountOnEnter?u=g:u=f,r.state={status:u},r.nextCallback=null,r}n.getDerivedStateFromProps=function(o,r){var s=o.in;return s&&r.status===g?{status:f}:null};var e=n.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(o){var r=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==d&&s!==v&&(r=d):(s===d||s===v)&&(r=T)}this.updateStatus(!1,r)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o=this.props.timeout,r,s,a;return r=s=a=o,o!=null&&typeof o!="number"&&(r=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:r,enter:s,appear:a}},e.updateStatus=function(o,r){if(o===void 0&&(o=!1),r!==null)if(this.cancelNextCallback(),r===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:x.findDOMNode(this);s&&ct(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:g})},e.performEnter=function(o){var r=this,s=this.props.enter,a=this.context?this.context.isMounting:o,u=this.props.nodeRef?[a]:[x.findDOMNode(this),a],p=u[0],h=u[1],L=this.getTimeouts(),H=a?L.appear:L.enter;if(!o&&!s||R.disabled){this.safeSetState({status:v},function(){r.props.onEntered(p)});return}this.props.onEnter(p,h),this.safeSetState({status:d},function(){r.props.onEntering(p,h),r.onTransitionEnd(H,function(){r.safeSetState({status:v},function(){r.props.onEntered(p,h)})})})},e.performExit=function(){var o=this,r=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:x.findDOMNode(this);if(!r||R.disabled){this.safeSetState({status:f},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:T},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:f},function(){o.props.onExited(a)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(o,r){r=this.setNextCallback(r),this.setState(o,r)},e.setNextCallback=function(o){var r=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,r.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},e.onTransitionEnd=function(o,r){this.setNextCallback(r);var s=this.props.nodeRef?this.props.nodeRef.current:x.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],p=u[0],h=u[1];this.props.addEndListener(p,h)}o!=null&&setTimeout(this.nextCallback,o)},e.render=function(){var o=this.state.status;if(o===g)return null;var r=this.props,s=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var a=$(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return l.createElement(I.Provider,{value:null},typeof s=="function"?s(o,a):l.cloneElement(l.Children.only(s),a))},n}(l.Component);c.contextType=I;c.propTypes={};function m(){}c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m};c.UNMOUNTED=g;c.EXITED=f;c.ENTERING=d;c.ENTERED=v;c.EXITING=T;const pt=["children","className","dropUp"];function b(){return b=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},b.apply(this,arguments)}function ft(t,n){if(t==null)return{};var e={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(n.indexOf(o)>=0)&&(e[o]=t[o]);return e}const dt={[d]:"rw-slide-transition-entering",[T]:"rw-slide-transition-exiting",[f]:"rw-slide-transition-exited"};class A extends l.Component{constructor(...n){super(...n),this.setContainerHeight=e=>{e.style.height=this.getHeight(e)+"px"},this.clearContainerHeight=e=>{e.style.height=""},this.handleEntered=e=>{this.clearContainerHeight(e),this.props.onEntered&&this.props.onEntered()},this.handleEntering=()=>{this.props.onEntering&&this.props.onEntering()},this.handleExit=e=>{this.setContainerHeight(e),this.props.onExit&&this.props.onExit()},this.handleExited=e=>{this.clearContainerHeight(e),this.props.onExited&&this.props.onExited()},this.handleTransitionEnd=(e,i)=>{lt(e.firstChild,i)}}getHeight(n){let e=n.firstChild,i=parseInt(N(e,"margin-top"),10)+parseInt(N(e,"margin-bottom"),10),o=n.style.display,r;return n.style.display="block",r=(rt(e)||0)+(isNaN(i)?0:i),n.style.display=o,r}render(){const n=this.props,{children:e,className:i,dropUp:o}=n,r=ft(n,pt);return l.createElement(c,b({},r,{appear:!0,in:this.props.in,onEnter:this.setContainerHeight,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,addEndListener:this.handleTransitionEnd,timeout:void 0}),(s,a)=>l.createElement("div",b({},a,{className:C(i,o&&"rw-dropup",dt[s])}),l.cloneElement(e,{className:C("rw-slide-transition",e.props.className)})))}}A.propTypes={in:E.bool.isRequired,innerClassName:E.string,dropUp:E.bool,onExit:E.func,onExited:E.func,onEntering:E.func,onEntered:E.func};const ht=["id","role","dropUp","className","children","open","transition"];function D(){return D=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},D.apply(this,arguments)}function Et(t,n){if(t==null)return{};var e={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(n.indexOf(o)>=0)&&(e[o]=t[o]);return e}const mt=l.memo(({children:t})=>t,(t,{shouldUpdate:n})=>!n),vt=l.forwardRef((t,n)=>{let{id:e,role:i,dropUp:o,className:r,children:s,open:a=!1,transition:u=A}=t,p=Et(t,ht);const h=u;return l.createElement(h,D({},p,{in:a,dropUp:o,timeout:void 0,className:C("rw-popup-container",r)}),l.createElement("div",{id:e,className:"rw-popup",ref:n,role:i},l.createElement(mt,{shouldUpdate:a},s)))});vt.displayName="Popup";function _t(t,n){function e(){t||P(n,[!0])}function i(){t&&P(n,[!1])}function o(){t?i():e()}return o.open=e,o.close=i,o}export{vt as P,lt as a,Nt as c,St as g,wt as m,Ot as q,Ct as t,_t as u};
