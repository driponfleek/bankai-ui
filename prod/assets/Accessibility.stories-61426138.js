import{j as e,c as w,d as a,x as U,y as X,z as K,A as J,B as Q,D as Y,E as Z,e as d,g as u,F as ee}from"./localeUtils-d4c6437e.js";import{r as re}from"./index-c013ead5.js";import{a as k,b as te}from"./dataMassageUtils-be95490e.js";import{P as h}from"./Paragraph-5fdfc491.js";import{H as I}from"./Hyperlink-36edb3ca.js";import{P as t}from"./index-f9722e9b.js";import{C as T}from"./ColorSwatch-6242e00d.js";import{C as oe}from"./ColorVariantsList-7468ba6d.js";import{g as R}from"./storiesConfigUtils-656c85e3.js";import{S as v}from"./SectionTitle-5b990959.js";import{O as _,a as f}from"./OmniListItem-4cd41291.js";import{S as ae}from"./StoryLayout-63eb7bef.js";import{d as se,c as ie}from"./storiesConfigUtils-0cce180a.js";import"./_commonjsHelpers-725317a4.js";import"./index-2bc63947.js";import"./colorBaseClsConst-cda6144c.js";import"./Callout-0234e399.js";import"./BankaiTriangleAlert-9e5601cd.js";import"./shared-76b286eb.js";import"./BankaiCircleInfo-e48f0ce7.js";import"./BankaiCircleCheck-a559f017.js";import"./MainContent-20eeee7e.js";import"./BankaiColorPalette-4f0fde4e.js";import"./chunk-S4VUQJ4A-c95e3e51.js";import"./iframe-eed68153.js";import"../sb-preview/runtime.js";import"./index-e74941a2.js";import"./index-11d98b33.js";import"./index-356e4a49.js";const V=s=>{const{contextCls:r,isFancy:o,shouldScrollList:i,base:l,variants:c}=s,n=R("base-color-with-variants"),p={[`${n}--fancy`]:o,[`${n}--standard`]:!o};return e("div",{className:w(n,p,r),children:a("div",{className:`${n}__inner`,children:[e("div",{className:`${n}__base-container`,children:e(T,{...l,isFancy:o})}),e("div",{className:`${n}__variants-container`,children:e(oe,{variants:c,shouldScrollList:i})})]})})};V.defaultProps={isFancy:!1,shouldScrollList:!0,variants:[]};V.propTypes={contextCls:t.string,isFancy:t.bool,shouldScrollList:t.bool,base:t.shape({color:t.string,mainContent:t.oneOfType([t.string,t.element]),metaList:t.arrayOf(t.oneOfType([t.string,t.element])),hasAlpha:t.bool}).isRequired,variants:t.arrayOf(t.shape({mainContent:t.oneOfType([t.string,t.element]),metaList:t.arrayOf(t.oneOfType([t.string,t.element])),hasAlpha:t.bool}))};const ne=V;V.__docgenInfo={description:"",methods:[],displayName:"BaseColorWithVariants",props:{isFancy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},shouldScrollList:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},variants:{defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"shape",value:{mainContent:{name:"union",value:[{name:"string"},{name:"element"}],required:!1},metaList:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1},hasAlpha:{name:"bool",required:!1}}}},required:!1,description:""},contextCls:{type:{name:"string"},required:!1,description:""},base:{type:{name:"shape",value:{color:{name:"string",required:!1},mainContent:{name:"union",value:[{name:"string"},{name:"element"}],required:!1},metaList:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1},hasAlpha:{name:"bool",required:!1}}},required:!0,description:""}}};const j=`${U.AA}:1`,E="Text",M="Background",{SEMANTIC_COLOR_CANVAS_ALT:le}=Q,H=s=>Z({hex:s,step:5}),ce=s=>H(s),de=s=>{var r;return(r=H(s))==null?void 0:r.baseColor},F=(s,r)=>{const{contrast:o,metaList:i}=s;return{...s,metaList:[...i,`Contrast Ratio - ${o}:1 ${r==null?void 0:r.color}`]}},he=s=>{const{baseColor:r,variants:o}=s??{};return{baseColor:k(r,r.tokenId),variants:te(o,r.tokenId)}},pe=(s,r)=>{const o=ce(r),i=de(s),l=[o.baseColor,...o.variants],{controlColor:c,evals:n}=X(i,l);o.baseColor.evalsAgainstBGColor=n.base,o.variants=o.variants.map(y=>({...y,evalsAgainstBGColor:n[y.tokenId]}));const p=o.baseColor,m=`${p.evalsAgainstBGColor.wcagContrast}:1`,g=k(c,M),C=he(o),b=C.variants.map(y=>F(y,g)),x=K(o.variants,!0).map(y=>F(k(y))),S=k(J(p,o.variants,!0));return{bgColorDataMassaged:g,contrastRatio:m,textColorAndVariantsMassaged:C,textColorVariantsWithContrast:b,variantsSanitized:x,recommendedColor:S}},me=(s={})=>{const{preferred:r={},variants:o=[]}=s,{lighterVariants:i,darkerVariants:l}=Y(r.lightness,o),c=i.length>0,n=l.length>0,p=c?i.map(S=>S.lightness).join(", "):"none",m=n?l.map(S=>S.lightness).join(", "):"none",g=!r.isDark&&c,C=r.isDark&&!n&&c,b=r.isDark&&n,x=!r.isDark&&!c&&n;return{hasLighterVariants:c,hasDarkerVariants:n,lighterVariantsLightnesses:p,darkerVariantsLightnesses:m,shouldPickFromLighterVariantsB1:g,shouldPickFromLighterVariantsB2:C,shouldPickFromDarkerVariantsB1:b,shouldPickFromDarkerVariantsB2:x}},ge=s=>({bgColor:s?"#0c0d0e":le,textColor:s?"#802a59":"#b76cdf"}),G=()=>e(d,{children:a(h,{children:["When color is essential to the comprehension of our"," ",e("abbr",{title:"User Interfaces",children:"UIs"})," we should strive for accessible color palettes. ",u("designSystemName")," ","provides tools and utilities that help us comply with"," ",e(I,{href:"https://webaim.org/articles/contrast/",shouldOpenInNewWindow:!0,children:"Web Content Accessibility Guidelines AA standard contrast ratios"}),"."]})});G.__docgenInfo={description:"",methods:[],displayName:"SectionIntro"};const A=s=>{const{colorData:r,isFancy:o}=s,{preferred:i,variants:l}=r??{};return e(ne,{base:i,variants:l,isFancy:o,shouldScrollList:!1})};A.defaultProps={isFancy:!0};A.propTypes={isFancy:t.bool,colorData:t.shape({preferred:t.object,variants:t.array})};A.__docgenInfo={description:"",methods:[],displayName:"BaseColorWithVariants",props:{isFancy:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},colorData:{type:{name:"shape",value:{preferred:{name:"object",required:!1},variants:{name:"array",required:!1}}},required:!1,description:""}}};const D=s=>{const{preferredColorAndVariants:r}=s;return a(d,{children:[e(v,{headingLvl:3,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.step1")}),a(d,{children:[e(h,{children:"To generate text color variants:"}),a(_,{children:[a(f,{children:["We convert the preferred color hex value to HSL (",e("strong",{children:"H"}),"ue, ",e("strong",{children:"S"}),"aturation,"," ",e("strong",{children:"L"}),"ightness)"]}),e(f,{children:"We then derive variants of the preferred Text color by modifying its lightness in increments of 5%, starting at 95% all the way down to 5%. (We omit 100% because that always results in White, and 0% because it always results in Black)"}),e(f,{children:"Finally we remove any duplicates of the preferred Text color found in the variants."})]}),e(A,{colorData:r})]})]})};D.propTypes={preferredColorAndVariants:t.shape({preferred:t.object,variants:t.array})};D.__docgenInfo={description:"",methods:[],displayName:"SectionAccessibleColorsHowToS1",props:{preferredColorAndVariants:{type:{name:"shape",value:{preferred:{name:"object",required:!1},variants:{name:"array",required:!1}}},required:!1,description:""}}};const q=s=>{const{colorData:r,variantsSanitized:o}=s,{preferred:i}=r;return a(d,{children:[e(v,{headingLvl:3,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.step2")}),a(d,{children:[e(h,{children:"Next we evaulate the contrast ratio of all variants against the background color:"}),e(A,{colorData:r}),a(h,{children:["Then we reduce the number of variants to a reliable set of accessible options by removing any that do not meet the"," ",e("strong",{children:j})," accessibility requirement:"]}),e(A,{colorData:{preferred:i,variants:o}})]})]})};q.propTypes={colorData:t.shape({preferred:t.object,variants:t.array}),variantsSanitized:t.array};q.__docgenInfo={description:"",methods:[],displayName:"SectionAccessibleColorsHowToS2",props:{colorData:{type:{name:"shape",value:{preferred:{name:"object",required:!1},variants:{name:"array",required:!1}}},required:!1,description:""},variantsSanitized:{type:{name:"array"},required:!1,description:""}}};const P=s=>{const{baseCls:r,colorData:o,bgColor:i}=s,{preferred:l}=o??{},c={...l,metaList:[...l.metaList,a(ee,{children:["Perceived Brightness -"," ",e("strong",{children:l.isDark?"Dark":"Light"})]}),`Contrast Ratio - ${l.contrast}:1 ${i.color}`]},{lighterVariantsLightnesses:n,darkerVariantsLightnesses:p,shouldPickFromLighterVariantsB1:m,shouldPickFromLighterVariantsB2:g,shouldPickFromDarkerVariantsB1:C,shouldPickFromDarkerVariantsB2:b}=me(o);return a(d,{children:[e(v,{headingLvl:3,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.step3")}),a(d,{children:[a(h,{children:["Our goal is to get as close to the original preferred Text color as possible with an accessible altnerative. To do that we start with determing the original preferred text color's"," ",e(I,{href:"https://www.w3.org/TR/AERT/#color-contrast",shouldOpenInNewWindow:!0,children:"perceived brightness"}),":"]}),e("div",{className:`${r}__bg-and-text-colors-container`,children:e(T,{mainContent:E,color:c.color,metaList:c.metaList,isFancy:!0})}),e(h,{children:"We'll also break up the variants into two groups:"}),a(_,{children:[a(f,{children:["Variants that are ",e("strong",{children:"lighter"})," than our original preferred Text color (",e("em",{children:n}),")"]}),a(f,{children:["Variants that are ",e("strong",{children:"darker"})," than our original preferred Text color (",e("em",{children:p}),")"]})]})]}),a(d,{children:[e(v,{headingLvl:4,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.step3WhenToPickFromLighterVariants")}),a(d,{children:[a(h,{children:["Whenever we pick from the lighter variant options we will ",e("strong",{children:"always choose the darkest variant"})," ","available to get as close to the original preferred Text color as possible. We pick from the ligther variant options when the following conditions are met:"]}),a(_,{children:[a(f,{children:["The original preferred Text color is perceived as light AND there are lighter variants to choose from (",e("strong",{className:w({[`${r}--negative`]:!m,[`${r}--positive`]:m}),children:`${m}`.toUpperCase()}),") ",e("em",{children:"OR..."})]}),a(f,{children:["The original preferred Text color is perceived as dark, there are no darker variants AND there are only lighter variants to choose from (",e("strong",{className:w({[`${r}--negative`]:!g,[`${r}--positive`]:g}),children:`${g}`.toUpperCase()}),")"]})]})]})]}),a(d,{children:[e(v,{headingLvl:4,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.step3WhenToPickFromDarkerVariants")}),a(d,{children:[a(h,{children:["Whenever we pick from the darker variant options we will"," ",e("strong",{children:"always choose the lightest variant"})," ","available to get as close to the original preferred Text color as possible. We pick from the darker variant options when the following conditions are met:"]}),a(_,{children:[a(f,{children:["The original preferred Text color is perceived as dark AND there are darker variants to choose from (",e("strong",{className:w({[`${r}--negative`]:!C,[`${r}--positive`]:C}),children:`${C}`.toUpperCase()}),") ",e("em",{children:"OR..."})]}),a(f,{children:["The original preferred Text color is perceived as light, there are no lighter variants AND there are only darker variants to choose from (",e("strong",{className:w({[`${r}--negative`]:!b,[`${r}--positive`]:b}),children:`${b}`.toUpperCase()}),")"]})]})]})]})]})};P.propTypes={baseCls:t.string,bgColor:t.object,colorData:t.shape({preferred:t.object,variants:t.array})};P.__docgenInfo={description:"",methods:[],displayName:"SectionAccessibleColorsHowToS3",props:{baseCls:{type:{name:"string"},required:!1,description:""},bgColor:{type:{name:"object"},required:!1,description:""},colorData:{type:{name:"shape",value:{preferred:{name:"object",required:!1},variants:{name:"array",required:!1}}},required:!1,description:""}}};const N=s=>{const{baseCls:r,bgColor:o,recommendedColor:i}=s;return a(d,{children:[e(v,{headingLvl:3,children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.finalResult")}),e(d,{children:a("div",{className:`${r}__bg-and-text-colors-container`,children:[e(T,{mainContent:i.mainContent,color:i.color,metaList:i.metaList,isFancy:!0}),e(T,{mainContent:o.mainContent,color:o.color,metaList:o.metaList,isFancy:!0})]})})]})};N.propTypes={baseCls:t.string,bgColor:t.object,recommendedColor:t.object};N.__docgenInfo={description:"",methods:[],displayName:"SectionFinalResult",props:{baseCls:{type:{name:"string"},required:!1,description:""},bgColor:{type:{name:"object"},required:!1,description:""},recommendedColor:{type:{name:"object"},required:!1,description:""}}};const O=s=>{const{baseCls:r,bgColor:o,textColor:i}=s,{bgColorDataMassaged:l,contrastRatio:c,textColorAndVariantsMassaged:n,textColorVariantsWithContrast:p,variantsSanitized:m,recommendedColor:g}=pe(o,i);return a(d,{children:[e(v,{children:u("stories.foundation.accessibility.accessibleColorPalettes.sectionTitles.howWeGetAccessibleColors")}),a(d,{children:[e(h,{children:"Let's say we want to use the following Text and Background colors:"}),a("div",{className:`${r}__bg-and-text-colors-container`,children:[e(T,{mainContent:E,color:i,metaList:[i],isFancy:!0}),e(T,{mainContent:M,color:o,metaList:[o],isFancy:!0})]}),a(h,{children:["The text and background color must have a"," ",e("strong",{children:j})," contrast ratio to pass WCAG AA compliance. When we test the Text color against the Background color we get:"]}),a(h,{contextCls:`${r}__eval-result`,children:["Contrast Ratio:"," ",e("strong",{className:`${r}--negative`,children:c})]}),e(h,{children:"Since this fails the minimum requirement we'll create variants of the Text color to give us more options to pick from."})]}),e(D,{preferredColorAndVariants:n}),e(q,{colorData:{preferred:l,variants:p},variantsSanitized:m}),e(P,{baseCls:r,bgColor:l,colorData:{preferred:n.baseColor,variants:m}}),e(N,{baseCls:r,bgColor:l,preferredColor:n.baseColor,recommendedColor:g})]})};O.propTypes={baseCls:t.string,bgColor:t.string,textColor:t.string};O.__docgenInfo={description:"",methods:[],displayName:"SectionAccessibleColorsHowTo",props:{baseCls:{type:{name:"string"},required:!1,description:""},bgColor:{type:{name:"string"},required:!1,description:""},textColor:{type:{name:"string"},required:!1,description:""}}};const z=()=>{const[s,r]=re.useState(se()),o=n=>{n!==s&&r(n)},{bgColor:i,textColor:l}=ge(s),c=R("foundation-accessible-color-palettes");return a(ae,{contextCls:c,title:u("stories.foundation.accessibility.accessibleColorPalettes.title"),subTitle:ie(u("titles.accessibility")),onColorSchemeChange:o,children:[e(G,{}),e(O,{baseCls:c,textColor:l,bgColor:i})]})};z.__docgenInfo={description:"",methods:[],displayName:"StoryAccessibleColorPalettes"};const He={title:"Foundation/Accessibility"},L={name:"Accessible Color Palettes",render:z,parameters:{a11y:{disable:!0},actions:{disable:!0},options:{showPanel:!1}}};var W,$,B;L.parameters={...L.parameters,docs:{...(W=L.parameters)==null?void 0:W.docs,source:{originalSource:`{
  name: 'Accessible Color Palettes',
  render: StoryAccessibleColorPalettes,
  parameters: {
    a11y: {
      disable: true
    },
    actions: {
      disable: true
    },
    options: {
      showPanel: false
    }
  }
}`,...(B=($=L.parameters)==null?void 0:$.docs)==null?void 0:B.source}}};const Ge=["AccessibleColorPalettes"];export{L as AccessibleColorPalettes,Ge as __namedExportsOrder,He as default};
//# sourceMappingURL=Accessibility.stories-61426138.js.map
