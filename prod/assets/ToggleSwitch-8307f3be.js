import{r as q,j as T,c as B,d as M}from"./localeUtils-f8841aa9.js";import{p as N,P as s}from"./index-f9722e9b.js";import{r as g}from"./index-c013ead5.js";import{B as D}from"./BankaiSpinner-972b7cf0.js";import{c as F}from"./inputUtils-609392c2.js";var E={},m={};Object.defineProperty(m,"__esModule",{value:!0});var I=g,C=$(I);function $(t){return t&&t.__esModule?t:{default:t}}m.default=function(){return C.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},C.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))};var y={};Object.defineProperty(y,"__esModule",{value:!0});var j=g,x=R(j);function R(t){return t&&t.__esModule?t:{default:t}}y.default=function(){return x.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},x.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))};var k={};Object.defineProperty(k,"__esModule",{value:!0});k.pointerCoord=X;function X(t){if(t){var a=t.changedTouches;if(a&&a.length>0){var r=a[0];return{x:r.clientX,y:r.clientY}}var e=t.pageX;if(e!==void 0)return{x:e,y:t.pageY}}return{x:0,y:0}}Object.defineProperty(E,"__esModule",{value:!0});var V=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},L=function(){function t(a,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,e){return r&&t(a.prototype,r),e&&t(a,e),a}}(),S=g,c=u(S),U=q,Y=u(U),W=N,o=u(W),z=m,A=u(z),G=y,H=u(G),v=k;function u(t){return t&&t.__esModule?t:{default:t}}function J(t,a){var r={};for(var e in t)a.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function K(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function Q(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:t}function Z(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}var d=function(t){Z(a,t);function a(r){K(this,a);var e=Q(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r));return e.handleClick=e.handleClick.bind(e),e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchMove=e.handleTouchMove.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.previouslyChecked=!!(r.checked||r.defaultChecked),e.state={checked:!!(r.checked||r.defaultChecked),hasFocus:!1},e}return L(a,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var n=this.input;if(e.target!==n&&!this.moved){this.previouslyChecked=n.checked,e.preventDefault(),n.focus(),n.click();return}var i=this.props.hasOwnProperty("checked")?this.props.checked:n.checked;this.setState({checked:i})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,v.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var n=(0,v.pointerCoord)(e).x;this.state.checked&&n+15<this.startX?(this.setState({checked:!1}),this.startX=n,this.activated=!0):n-15>this.startX&&(this.setState({checked:!0}),this.startX=n,this.activated=n<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var n=this.input;if(e.preventDefault(),this.startX){var i=(0,v.pointerCoord)(e).x;this.previouslyChecked===!0&&this.startX+4>i?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,n.click()):this.startX-4<i&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,n.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var n=this.props.onFocus;n&&n(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var n=this.props.onBlur;n&&n(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var n=this.props.icons;return n?n[e]===void 0?a.defaultProps.icons[e]:n[e]:null}},{key:"render",value:function(){var e=this,n=this.props,i=n.className;n.icons;var f=J(n,["className","icons"]),p=(0,Y.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},i);return c.default.createElement("div",{className:p,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},c.default.createElement("div",{className:"react-toggle-track"},c.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),c.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),c.default.createElement("div",{className:"react-toggle-thumb"}),c.default.createElement("input",V({},f,{ref:function(l){e.input=l},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),a}(S.PureComponent),ee=E.default=d;d.displayName="Toggle";d.defaultProps={icons:{checked:c.default.createElement(A.default,null),unchecked:c.default.createElement(H.default,null)}};d.propTypes={checked:o.default.bool,disabled:o.default.bool,defaultChecked:o.default.bool,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,className:o.default.string,name:o.default.string,value:o.default.string,id:o.default.string,"aria-labelledby":o.default.string,"aria-label":o.default.string,icons:o.default.oneOfType([o.default.bool,o.default.shape({checked:o.default.node,unchecked:o.default.node})])};const _=t=>{const{contextCls:a}=t;return T(D,{contextCls:B(a)})};_.propTypes={contextCls:s.string};const te=_;_.__docgenInfo={description:"",methods:[],displayName:"ToggleSwitchBusyIcon",props:{contextCls:{type:{name:"string"},required:!1,description:""}}};const h=t=>{const{contextCls:a,id:r,name:e,value:n,isBusy:i,isDisabled:f,onChange:p,renderBusyIcon:b}=t,l="bankai-toggle-switch",w=()=>{p({id:r,name:e,value:n})},P=F(t),O={[`${l}--is-busy`]:i,[`${l}--is-disabled`]:i||f};return M("div",{className:B(l,O,a),children:[T(ee,{...P,className:`${l}__toggle`,onChange:w}),i&&b({contextCls:`${l}__icon-busy`})]})};h.defaultProps={isBusy:!1,isDisabled:!1,icons:!1,renderBusyIcon:te,onChange:()=>Promise.resolve()};h.propTypes={contextCls:s.string,id:s.string,name:s.string,value:s.string,isBusy:s.bool,isChecked:s.bool,isDefaultChecked:s.bool,isDisabled:s.bool,icons:s.oneOfType([s.bool,s.object]),onChange:s.func,renderBusyIcon:s.func};const ie=h;h.__docgenInfo={description:"",methods:[],displayName:"ToggleSwitch",props:{isBusy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isDisabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},icons:{defaultValue:{value:"false",computed:!1},type:{name:"union",value:[{name:"bool"},{name:"object"}]},required:!1,description:""},renderBusyIcon:{defaultValue:{value:`(props) => {
    const { contextCls } = props;

    return <BankaiSpinner contextCls={cx(contextCls)} />;
}`,computed:!1},type:{name:"func"},required:!1,description:""},onChange:{defaultValue:{value:"() => Promise.resolve()",computed:!1},type:{name:"func"},required:!1,description:""},contextCls:{type:{name:"string"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},isChecked:{type:{name:"bool"},required:!1,description:""},isDefaultChecked:{type:{name:"bool"},required:!1,description:""}}};export{ie as B};
//# sourceMappingURL=ToggleSwitch-8307f3be.js.map
