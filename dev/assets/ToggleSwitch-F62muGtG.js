import{j as E}from"./jsx-runtime-DN5Rltsz.js";import{b as U,r as $,c as D,P as c}from"./localeUtils--UUmbdnw.js";import{a as B,c as Y}from"./iframe-X-brMXKZ.js";import{B as W}from"./BankaiSpinner-CFdc15Ly.js";import{c as z}from"./inputUtils-B53uMYwj.js";var k={},y={},w;function A(){if(w)return y;w=1,Object.defineProperty(y,"__esModule",{value:!0});var l=B(),s=u(l);function u(i){return i&&i.__esModule?i:{default:i}}return y.default=function(){return s.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},s.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))},y}var _={},O;function G(){if(O)return _;O=1,Object.defineProperty(_,"__esModule",{value:!0});var l=B(),s=u(l);function u(i){return i&&i.__esModule?i:{default:i}}return _.default=function(){return s.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},s.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))},_}var b={},M;function H(){if(M)return b;M=1,Object.defineProperty(b,"__esModule",{value:!0}),b.pointerCoord=l;function l(s){if(s){var u=s.changedTouches;if(u&&u.length>0){var i=u[0];return{x:i.clientX,y:i.clientY}}var h=s.pageX;if(h!==void 0)return{x:h,y:s.pageY}}return{x:0,y:0}}return b}var N;function J(){if(N)return k;N=1,Object.defineProperty(k,"__esModule",{value:!0});var l=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},s=function(){function r(a,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,n,e){return n&&r(a.prototype,n),e&&r(a,e),a}}(),u=B(),i=m(u),h=U(),p=m(h),C=$(),o=m(C),x=A(),d=m(x),T=G(),q=m(T),v=H();function m(r){return r&&r.__esModule?r:{default:r}}function F(r,a){var n={};for(var e in r)a.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}function R(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function I(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function j(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var g=function(r){j(a,r);function a(n){R(this,a);var e=I(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n));return e.handleClick=e.handleClick.bind(e),e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchMove=e.handleTouchMove.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.previouslyChecked=!!(n.checked||n.defaultChecked),e.state={checked:!!(n.checked||n.defaultChecked),hasFocus:!1},e}return s(a,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.input;if(e.target!==t&&!this.moved){this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),t.click();return}var f=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:f})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=(0,v.pointerCoord)(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=(0,v.pointerCoord)(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var f=(0,v.pointerCoord)(e).x;this.previouslyChecked===!0&&this.startX+4>f?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<f&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var t=this.props.icons;return t?t[e]===void 0?a.defaultProps.icons[e]:t[e]:null}},{key:"render",value:function(){var e=this,t=this.props,f=t.className;t.icons;var X=F(t,["className","icons"]),V=(0,p.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},f);return i.default.createElement("div",{className:V,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},i.default.createElement("div",{className:"react-toggle-track"},i.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),i.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),i.default.createElement("div",{className:"react-toggle-thumb"}),i.default.createElement("input",l({},X,{ref:function(L){e.input=L},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),a}(u.PureComponent);return k.default=g,g.displayName="Toggle",g.defaultProps={icons:{checked:i.default.createElement(d.default,null),unchecked:i.default.createElement(q.default,null)}},g.propTypes={checked:o.default.bool,disabled:o.default.bool,defaultChecked:o.default.bool,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,className:o.default.string,name:o.default.string,value:o.default.string,id:o.default.string,"aria-labelledby":o.default.string,"aria-label":o.default.string,icons:o.default.oneOfType([o.default.bool,o.default.shape({checked:o.default.node,unchecked:o.default.node})])},k}var K=J();const Q=Y(K),P=l=>{const{contextCls:s}=l;return E.jsx(W,{contextCls:D(s)})};P.propTypes={contextCls:c.string};P.__docgenInfo={description:"",methods:[],displayName:"ToggleSwitchBusyIcon",props:{contextCls:{description:"",type:{name:"string"},required:!1}}};const S=l=>{const{contextCls:s,id:u,name:i,value:h,isBusy:p,isDisabled:C,onChange:o,renderBusyIcon:x}=l,d="bankai-toggle-switch",T=()=>{o({id:u,name:i,value:h})},q=z(l),v={[`${d}--is-busy`]:p,[`${d}--is-disabled`]:p||C};return E.jsxs("div",{className:D(d,v,s),children:[E.jsx(Q,{...q,className:`${d}__toggle`,onChange:T}),p&&x({contextCls:`${d}__icon-busy`})]})};S.defaultProps={isBusy:!1,isDisabled:!1,icons:!1,renderBusyIcon:P,onChange:()=>Promise.resolve()};S.propTypes={contextCls:c.string,id:c.string,name:c.string,value:c.string,isBusy:c.bool,isChecked:c.bool,isDefaultChecked:c.bool,isDisabled:c.bool,icons:c.oneOfType([c.bool,c.object]),onChange:c.func,renderBusyIcon:c.func};S.__docgenInfo={description:"",methods:[],displayName:"ToggleSwitch",props:{isBusy:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isDisabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},icons:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"union",value:[{name:"bool"},{name:"object"}]},required:!1},renderBusyIcon:{defaultValue:{value:`(props) => {
    const { contextCls } = props;

    return <BankaiSpinner contextCls={cx(contextCls)} />;
}`,computed:!1},description:"",type:{name:"func"},required:!1},onChange:{defaultValue:{value:"() => Promise.resolve()",computed:!1},description:"",type:{name:"func"},required:!1},contextCls:{description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!1},name:{description:"",type:{name:"string"},required:!1},value:{description:"",type:{name:"string"},required:!1},isChecked:{description:"",type:{name:"bool"},required:!1},isDefaultChecked:{description:"",type:{name:"bool"},required:!1}}};export{S as T};
