{"version":3,"file":"Multiselect-4aada144.js","sources":["../../../../node_modules/dom-helpers/esm/closest.js","../../../../node_modules/react-widgets/esm/MultiselectInput.js","../../../../node_modules/react-widgets/esm/MultiselectTag.js","../../../../node_modules/react-widgets/esm/MultiselectTagList.js","../../../../node_modules/react-widgets/esm/Multiselect.js","../../../components/form-elements-rw/src/components/multiselect/ClearTagIcon.jsx","../../../components/form-elements-rw/src/Multiselect.jsx"],"sourcesContent":["import matches from './matches';\n/**\n * Returns the closest parent element that matches a given selector.\n * \n * @param node the reference element\n * @param selector the selector to match\n * @param stopAt stop traversing when this element is found\n */\n\nexport default function closest(node, selector, stopAt) {\n  if (node.closest && !stopAt) node.closest(selector);\n  var nextNode = node;\n\n  do {\n    if (matches(nextNode, selector)) return nextNode;\n    nextNode = nextNode.parentElement;\n  } while (nextNode && nextNode !== stopAt && nextNode.nodeType === document.ELEMENT_NODE);\n\n  return null;\n}","const _excluded = [\"disabled\", \"readOnly\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport * as CustomPropTypes from './PropTypes';\nconst propTypes = {\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  maxLength: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n  disabled: CustomPropTypes.disabled,\n  readOnly: CustomPropTypes.disabled\n};\nconst MultiselectInput = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    disabled,\n    readOnly\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  let size = Math.max(String(props.value || props.placeholder || '').length, 1) + 1;\n  return /*#__PURE__*/React.createElement(\"input\", _extends({\n    spellCheck: \"false\",\n    autoCapitalize: \"off\"\n  }, props, {\n    size: size,\n    ref: ref,\n    autoComplete: \"off\",\n    className: \"rw-multiselect-input\",\n    \"aria-disabled\": disabled,\n    \"aria-readonly\": readOnly,\n    disabled: disabled,\n    readOnly: readOnly\n  }));\n});\nMultiselectInput.displayName = 'MultiselectInput';\nMultiselectInput.propTypes = propTypes;\nexport default MultiselectInput;","import cn from 'classnames';\nimport React from 'react';\nimport { useListOption } from './FocusListContext';\n\nfunction MultiselectTag({\n  className,\n  children,\n  style,\n  label,\n  disabled,\n  readOnly,\n  onRemove,\n  clearTagIcon,\n  dataItem\n}) {\n  const [ref, focused, id] = useListOption(dataItem);\n\n  const handleRemove = event => {\n    if (!disabled) onRemove(dataItem, event);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    role: \"option\",\n    id: id,\n    \"data-rw-option\": \"\",\n    \"data-rw-focusable\": disabled ? undefined : '',\n    \"data-rw-focused\": focused ? '' : undefined,\n    className: cn(className, 'rw-multiselect-tag', disabled && 'rw-state-disabled', focused && !disabled && 'rw-state-focus'),\n    style: style\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"rw-multiselect-tag-label\"\n  }, children), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\" // these should not be tabbable\n    ,\n    tabIndex: -1,\n    onClick: handleRemove,\n    onTouchEnd: handleRemove,\n    disabled: disabled || readOnly,\n    className: \"rw-multiselect-tag-btn\",\n    \"aria-label\": label || 'Remove item'\n  }, clearTagIcon));\n}\n\nexport default MultiselectTag;","import React from 'react';\nimport MultiselectTag from './MultiselectTag';\n\nfunction MultiselectTagList({\n  id,\n  value,\n  textAccessor,\n  label,\n  disabled,\n  readOnly,\n  onDelete,\n  children,\n  clearTagIcon,\n  renderTagValue,\n  tagOptionComponent: TagOption = MultiselectTag\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    role: \"listbox\",\n    \"aria-label\": label,\n    \"aria-multiselectable\": \"true\",\n    \"aria-orientation\": \"horizontal\",\n    className: \"rw-multiselect-taglist\"\n  }, value.map((item, i) => {\n    const itemDisabled = Array.isArray(disabled) ? disabled.includes(item) : !!disabled;\n    return /*#__PURE__*/React.createElement(TagOption, {\n      key: i,\n      dataItem: item,\n      onRemove: onDelete,\n      clearTagIcon: clearTagIcon,\n      disabled: itemDisabled,\n      readOnly: readOnly\n    }, renderTagValue ? renderTagValue({\n      item\n    }) : textAccessor(item));\n  }), children);\n}\n\nexport default MultiselectTagList;","const _excluded = [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"showSelectedItemsInList\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"popupProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"popupComponent\", \"tagListComponent\", \"data\", \"messages\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cn from 'classnames';\nimport closest from 'dom-helpers/closest';\nimport PropTypes from 'prop-types';\nimport React, { useImperativeHandle, useMemo, useRef, useEffect } from 'react';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport AddToListOption, { CREATE_OPTION } from './AddToListOption';\nimport { times } from './Icon';\nimport List from './List';\nimport { FocusListContext, useFocusList } from './FocusListContext';\nimport MultiselectInput from './MultiselectInput';\nimport MultiselectTagList from './MultiselectTagList';\nimport BasePopup from './Popup';\nimport Widget from './Widget';\nimport WidgetPicker from './WidgetPicker';\nimport { useMessagesWithDefaults } from './messages';\nimport { setActiveDescendant } from './A11y';\nimport { useFilteredData } from './Filter';\nimport * as CustomPropTypes from './PropTypes';\nimport canShowCreate from './canShowCreate';\nimport { useAccessors } from './Accessors';\nimport useDropdownToggle from './useDropdownToggle';\nimport useFocusManager from './useFocusManager';\nimport { notify, useFirstFocusedRender, useInstanceId } from './WidgetHelpers';\nimport DropdownCaret from './PickerCaret';\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: PropTypes.array,\n  //-- controlled props --\n  value: PropTypes.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: PropTypes.func,\n  searchTerm: PropTypes.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: PropTypes.func,\n  open: PropTypes.bool,\n  handleOpen: PropTypes.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: PropTypes.func,\n  renderListItem: PropTypes.func,\n  renderListGroup: PropTypes.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: PropTypes.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: PropTypes.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: PropTypes.func,\n  busy: PropTypes.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: PropTypes.node,\n\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: PropTypes.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: PropTypes.node,\n  dropUp: PropTypes.bool,\n  popupTransition: PropTypes.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: PropTypes.string,\n  inputProps: PropTypes.object,\n  listProps: PropTypes.object,\n  autoFocus: PropTypes.bool,\n  placeholder: PropTypes.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: PropTypes.bool,\n\n  /** Continue to show the selected items in the dropdown list */\n  showSelectedItemsInList: PropTypes.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: PropTypes.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\n\nfunction useMultiselectData(value = EMPTY_ARRAY, data, accessors, filter, searchTerm, showSelectedItemsInList) {\n  data = useMemo(() => showSelectedItemsInList ? data : data.filter(i => !value.some(v => accessors.matches(i, v))), [data, showSelectedItemsInList, value, accessors]);\n  return [useFilteredData(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nconst Multiselect = /*#__PURE__*/React.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n    dataKey,\n    textField,\n    autoFocus,\n    id,\n    value,\n    defaultValue = [],\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    focusFirstItem = false,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = 'startsWith',\n    allowCreate = false,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon,\n    clearTagIcon = times,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    showPlaceholderWithValues = false,\n    showSelectedItemsInList = false,\n    onSelect,\n    onCreate,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    popupProps,\n    renderListItem,\n    renderListGroup,\n    renderTagValue,\n    optionComponent,\n    tagOptionComponent,\n    groupBy,\n    listComponent: ListComponent = List,\n    popupComponent: Popup = BasePopup,\n    tagListComponent: TagList = MultiselectTagList,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  let [currentValue, handleChange] = useUncontrolledProp(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = useUncontrolledProp(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = useUncontrolledProp(searchTerm, defaultSearchTerm, onSearch);\n  const ref = useRef(null);\n  const inputRef = useRef(null);\n  const listRef = useRef(null);\n  const inputId = useInstanceId(id, '_input');\n  const tagsId = useInstanceId(id, '_taglist');\n  const listId = useInstanceId(id, '_listbox');\n  const createId = useInstanceId(id, '_createlist_option');\n  const activeTagId = useInstanceId(id, '_taglist_active_tag');\n  const activeOptionId = useInstanceId(id, '_listbox_active_option');\n  const accessors = useAccessors(textField, dataKey);\n  const messages = useMessagesWithDefaults(userMessages);\n  const toggle = useDropdownToggle(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = useFocusManager(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n\n  });\n  const dataItems = useMemo(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch, showSelectedItemsInList);\n  const list = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId,\n    anchorItem: currentOpen ? dataItems[dataItems.length - 1] : undefined\n  });\n  const tagList = useFocusList({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = canShowCreate(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  useEffect(() => {\n    if (currentOpen) return;\n    setActiveDescendant(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  useEffect(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    setActiveDescendant(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly || tagList.size() === 0) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n\n  const deletingRef = useRef(false);\n\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n\n  const handleClick = e => {\n    if (isDisabled || readOnly) return; // prevents double clicks when in a <label>\n\n    e.preventDefault();\n    focus();\n\n    if (closest(e.target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n    originalEvent.preventDefault();\n\n    if (dataItem === CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    notify(onSelect, [dataItem, {\n      originalEvent\n    }]);\n\n    if (!showSelectedItemsInList || !dataItems.includes(dataItem)) {\n      change(dataItem, originalEvent, INSERT);\n    } else {\n      change(dataItem, originalEvent, REMOVE);\n    }\n\n    focus();\n  };\n\n  const handleCreate = event => {\n    notify(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    notify(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n\n  useImperativeHandle(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = useFirstFocusedRender(focused, currentOpen);\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/React.createElement(Widget, _extends({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: cn(className, 'rw-multiselect')\n  }), /*#__PURE__*/React.createElement(WidgetPicker, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: cn(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/React.createElement(TagList, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/React.createElement(MultiselectInput, _extends({}, inputProps, {\n    role: \"combobox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    \"aria-controls\": listId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-autocomplete\": \"list\",\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/React.createElement(DropdownCaret, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/React.createElement(FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/React.createElement(Popup, _extends({}, popupProps, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }), /*#__PURE__*/React.createElement(ListComponent, _extends({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    value: dataItems,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/React.createElement(AddToListOption, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\nMultiselect.displayName = 'Multiselect';\nMultiselect.propTypes = propTypes;\nexport default Multiselect;","import PropTypes from 'prop-types';\nimport { BankaiX } from '@driponfleek/bankai-ui-icons';\n\nconst ClearTagIcon = (props) => {\n    const { baseCls } = props;\n\n    return <BankaiX contextCls={`${baseCls}__clear-tag-icon`} />;\n};\n\nClearTagIcon.propTypes = {\n    baseCls: PropTypes.string,\n};\n\nexport default ClearTagIcon;\n","import PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport MultiselectField from 'react-widgets/Multiselect';\nimport BusySpinner from './components/BusySpinner';\nimport SelectIcon from './components/SelectIcon';\nimport ClearTagIcon from './components/multiselect/ClearTagIcon';\nimport { getMultiselectExtantProps } from './utils/extantPropsUtils';\n\n// Styles\nimport './styles/multiselect.scss';\n\nconst Multiselect = (props) => {\n    const {\n        contextCls,\n        hasError,\n        onChange,\n        onCreate,\n        onSearch,\n        onSelect,\n        renderBusySpinner,\n        renderClearTagIcon,\n        renderSelectIcon,\n    } = props;\n    const baseCls = 'bankai-multiselect';\n    const multiselectProps = getMultiselectExtantProps(props);\n    const modCls = {\n        [`${baseCls}--error`]: hasError,\n    };\n    const busySpinner = renderBusySpinner({ baseCls });\n    const selectIcon = renderSelectIcon({ baseCls });\n    const clearTagIcon = renderClearTagIcon({ baseCls });\n\n    return (\n        <MultiselectField\n            {...multiselectProps}\n            className={cx(baseCls, modCls, contextCls)}\n            onChange={onChange}\n            onCreate={onCreate}\n            onSearch={onSearch}\n            onSelect={onSelect}\n            busySpinner={busySpinner}\n            selectIcon={selectIcon}\n            clearTagIcon={clearTagIcon}\n        />\n    );\n};\n\nMultiselect.defaultProps = {\n    hasError: false,\n    isBusy: false,\n    isDefaultOpen: false,\n    isDisabled: false,\n    isReadOnly: false,\n    shouldAutoFocus: false,\n    shouldDropUp: false,\n    shouldFocustFirstItem: false,\n    shouldShowPlaceholderWithValues: true,\n    data: [],\n    onChange: () => Promise.resolve(),\n    onCreate: () => Promise.resolve(),\n    onSearch: () => Promise.resolve(),\n    onSelect: () => Promise.resolve(),\n    renderBusySpinner: BusySpinner,\n    renderClearTagIcon: ClearTagIcon,\n    renderSelectIcon: SelectIcon,\n};\n\nMultiselect.propTypes = {\n    contextCls: PropTypes.string,\n    defaultSearchTerm: PropTypes.string,\n    id: PropTypes.string,\n    placeholder: PropTypes.string,\n    searchTerm: PropTypes.string,\n    hasError: PropTypes.bool,\n    isBusy: PropTypes.bool,\n    isDefaultOpen: PropTypes.bool,\n    isDisabled: PropTypes.bool,\n    isOpen: PropTypes.bool,\n    isReadOnly: PropTypes.bool,\n    shouldAutoFocus: PropTypes.bool,\n    shouldDropUp: PropTypes.bool,\n    shouldFocustFirstItem: PropTypes.bool,\n    shouldShowPlaceholderWithValues: PropTypes.bool,\n    data: PropTypes.array,\n    defaultValue: PropTypes.array,\n    value: PropTypes.array,\n    inputProps: PropTypes.object,\n    listProps: PropTypes.object,\n    messages: PropTypes.object,\n    allowCreate: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    dataKey: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    filter: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.bool,\n    ]),\n    groupBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    listComponent: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    tagOptionComponent: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.func,\n    ]),\n    textField: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    onChange: PropTypes.func,\n    onCreate: PropTypes.func,\n    onSearch: PropTypes.func,\n    onSelect: PropTypes.func,\n    renderBusySpinner: PropTypes.func,\n    renderClearTagIcon: PropTypes.func,\n    renderListGroup: PropTypes.func,\n    renderListItem: PropTypes.func,\n    renderSelectIcon: PropTypes.func,\n    renderTagValue: PropTypes.func,\n};\n\nexport default Multiselect;\n"],"names":["closest","node","selector","stopAt","nextNode","matches","_excluded","_extends","target","i","source","key","_objectWithoutPropertiesLoose","excluded","sourceKeys","propTypes","PropTypes","CustomPropTypes.disabled","MultiselectInput","React","_ref","ref","disabled","readOnly","props","size","MultiselectTag","className","children","style","label","onRemove","clearTagIcon","dataItem","focused","id","useListOption","handleRemove","event","cn","MultiselectTagList","value","textAccessor","onDelete","renderTagValue","TagOption","item","itemDisabled","ENTER","INSERT","REMOVE","CustomPropTypes.accessor","CustomPropTypes.message","EMPTY_ARRAY","useMultiselectData","data","accessors","filter","searchTerm","showSelectedItemsInList","useMemo","v","useFilteredData","Multiselect","outerRef","dataKey","textField","autoFocus","defaultValue","onChange","open","defaultOpen","onToggle","focusFirstItem","defaultSearchTerm","onSearch","allowCreate","containerClassName","placeholder","busy","selectIcon","times","busySpinner","dropUp","tabIndex","popupTransition","showPlaceholderWithValues","onSelect","onCreate","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","renderListItem","renderListGroup","optionComponent","tagOptionComponent","groupBy","ListComponent","List","Popup","BasePopup","TagList","rawData","userMessages","elementProps","currentValue","handleChange","useUncontrolledProp","currentOpen","handleOpen","currentSearch","handleSearch","useRef","inputRef","listRef","inputId","useInstanceId","tagsId","listId","createId","activeTagId","activeOptionId","useAccessors","messages","useMessagesWithDefaults","toggle","useDropdownToggle","isDisabled","isReadOnly","focusEvents","useFocusManager","focus","clearSearch","tagList","dataItems","lengthWithoutValues","list","useFocusList","showCreateOption","canShowCreate","focusedTag","useEffect","setActiveDescendant","focusedItem","handleDelete","change","deletingRef","handleSearchKeyDown","e","handleSearchKeyUp","handleInputChange","search","handleClick","handleDoubleClick","handleSelect","originalEvent","CREATE_OPTION","handleCreate","notify","handleKeyDown","keyCode","altKey","ctrlKey","action","nextDataItems","d","nextSearchTerm","useImperativeHandle","shouldRenderPopup","useFirstFocusedRender","shouldRenderTags","inputOwns","Widget","WidgetPicker","FocusListContext","DropdownCaret","meta","AddToListOption","ClearTagIcon","baseCls","jsx","BankaiX","ClearTagIcon$1","contextCls","hasError","renderBusySpinner","renderClearTagIcon","renderSelectIcon","multiselectProps","getMultiselectExtantProps","modCls","MultiselectField","cx","BusySpinner","SelectIcon","Multiselect$1"],"mappings":"wmBASe,SAASA,GAAQC,EAAMC,EAAUC,EAAQ,CAClDF,EAAK,SAAW,CAACE,GAAQF,EAAK,QAAQC,CAAQ,EAClD,IAAIE,EAAWH,EAEf,EAAG,CACD,GAAII,GAAQD,EAAUF,CAAQ,EAAG,OAAOE,EACxCA,EAAWA,EAAS,aACxB,OAAWA,GAAYA,IAAaD,GAAUC,EAAS,WAAa,SAAS,cAE3E,OAAO,IACT,CCnBA,MAAME,GAAY,CAAC,WAAY,UAAU,EAEzC,SAASC,IAAW,CAAEA,OAAAA,GAAW,OAAO,QAAU,SAAUC,EAAQ,CAAE,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAAE,IAAIC,EAAS,UAAUD,CAAC,EAAG,QAASE,KAAOD,EAAc,OAAO,UAAU,eAAe,KAAKA,EAAQC,CAAG,IAAKH,EAAOG,CAAG,EAAID,EAAOC,CAAG,EAAQ,CAAC,OAAOH,GAAkBD,GAAS,MAAM,KAAM,SAAS,CAAI,CAE7T,SAASK,GAA8BF,EAAQG,EAAU,CAAE,GAAIH,GAAU,KAAM,MAAO,CAAE,EAAE,IAAIF,EAAS,CAAE,EAAMM,EAAa,OAAO,KAAKJ,CAAM,EAAOC,EAAK,EAAG,IAAK,EAAI,EAAG,EAAIG,EAAW,OAAQ,IAAOH,EAAMG,EAAW,CAAC,EAAO,EAAAD,EAAS,QAAQF,CAAG,GAAK,KAAaH,EAAOG,CAAG,EAAID,EAAOC,CAAG,GAAK,OAAOH,CAAS,CAKnT,MAAMO,GAAY,CAChB,MAAOC,EAAU,OACjB,YAAaA,EAAU,OACvB,UAAWA,EAAU,OACrB,SAAUA,EAAU,KAAK,WACzB,SAAUC,EACV,SAAUA,CACZ,EACMC,GAAgCC,EAAM,WAAW,CAACC,EAAMC,IAAQ,CACpE,GAAI,CACF,SAAAC,EACA,SAAAC,CACJ,EAAMH,EACAI,EAAQZ,GAA8BQ,EAAMd,EAAS,EAErDmB,EAAO,KAAK,IAAI,OAAOD,EAAM,OAASA,EAAM,aAAe,EAAE,EAAE,OAAQ,CAAC,EAAI,EAChF,OAAoBL,EAAM,cAAc,QAASZ,GAAS,CACxD,WAAY,QACZ,eAAgB,KACjB,EAAEiB,EAAO,CACR,KAAMC,EACN,IAAKJ,EACL,aAAc,MACd,UAAW,uBACX,gBAAiBC,EACjB,gBAAiBC,EACjB,SAAUD,EACV,SAAUC,CACX,CAAA,CAAC,CACJ,CAAC,EACDL,GAAiB,YAAc,mBAC/BA,GAAiB,UAAYH,GCpC7B,SAASW,GAAe,CACtB,UAAAC,EACA,SAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAR,EACA,SAAAC,EACA,SAAAQ,EACA,aAAAC,EACA,SAAAC,CACF,EAAG,CACD,KAAM,CAACZ,EAAKa,EAASC,CAAE,EAAIC,GAAcH,CAAQ,EAE3CI,EAAeC,GAAS,CACvBhB,GAAUS,EAASE,EAAUK,CAAK,CAC3C,EAEE,OAAoBnB,EAAM,cAAc,MAAO,CAC7C,IAAKE,EACL,KAAM,SACN,GAAIc,EACJ,iBAAkB,GAClB,oBAAqBb,EAAW,OAAY,GAC5C,kBAAmBY,EAAU,GAAK,OAClC,UAAWK,EAAGZ,EAAW,qBAAsBL,GAAY,oBAAqBY,GAAW,CAACZ,GAAY,gBAAgB,EACxH,MAAOO,CACX,EAAkBV,EAAM,cAAc,OAAQ,CAC1C,UAAW,0BACZ,EAAES,CAAQ,EAAgBT,EAAM,cAAc,SAAU,CACvD,KAAM,SAEN,SAAU,GACV,QAASkB,EACT,WAAYA,EACZ,SAAUf,GAAYC,EACtB,UAAW,yBACX,aAAcO,GAAS,aAC3B,EAAKE,CAAY,CAAC,CAClB,CCvCA,SAASQ,GAAmB,CAC1B,GAAAL,EACA,MAAAM,EACA,aAAAC,EACA,MAAAZ,EACA,SAAAR,EACA,SAAAC,EACA,SAAAoB,EACA,SAAAf,EACA,aAAAI,EACA,eAAAY,EACA,mBAAoBC,EAAYnB,EAClC,EAAG,CACD,OAAoBP,EAAM,cAAc,MAAO,CAC7C,GAAIgB,EACJ,KAAM,UACN,aAAcL,EACd,uBAAwB,OACxB,mBAAoB,aACpB,UAAW,wBACZ,EAAEW,EAAM,IAAI,CAACK,EAAMrC,IAAM,CACxB,MAAMsC,EAAe,MAAM,QAAQzB,CAAQ,EAAIA,EAAS,SAASwB,CAAI,EAAI,CAAC,CAACxB,EAC3E,OAAoBH,EAAM,cAAc0B,EAAW,CACjD,IAAKpC,EACL,SAAUqC,EACV,SAAUH,EACV,aAAcX,EACd,SAAUe,EACV,SAAUxB,CAChB,EAAOqB,EAAiBA,EAAe,CACjC,KAAAE,CACN,CAAK,EAAIJ,EAAaI,CAAI,CAAC,CAC3B,CAAG,EAAGlB,CAAQ,CACd,CCpCA,MAAMtB,GAAY,CAAC,UAAW,YAAa,YAAa,KAAM,QAAS,eAAgB,WAAY,OAAQ,cAAe,WAAY,iBAAkB,aAAc,oBAAqB,WAAY,SAAU,cAAe,YAAa,qBAAsB,cAAe,OAAQ,WAAY,WAAY,aAAc,eAAgB,cAAe,SAAU,WAAY,kBAAmB,4BAA6B,0BAA2B,WAAY,WAAY,YAAa,SAAU,UAAW,aAAc,YAAa,aAAc,iBAAkB,kBAAmB,iBAAkB,kBAAmB,qBAAsB,UAAW,gBAAiB,iBAAkB,mBAAoB,OAAQ,UAAU,EAEvtB,SAASC,GAAW,CAAE,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAQ,CAAE,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAAE,IAAIC,EAAS,UAAUD,CAAC,EAAG,QAASE,KAAOD,EAAc,OAAO,UAAU,eAAe,KAAKA,EAAQC,CAAG,IAAKH,EAAOG,CAAG,EAAID,EAAOC,CAAG,EAAQ,CAAC,OAAOH,GAAkBD,EAAS,MAAM,KAAM,SAAS,CAAI,CAE7T,SAASK,GAA8BF,EAAQG,EAAU,CAAE,GAAIH,GAAU,KAAM,MAAO,CAAE,EAAE,IAAIF,EAAS,CAAE,EAAMM,EAAa,OAAO,KAAKJ,CAAM,EAAOC,EAAK,EAAG,IAAK,EAAI,EAAG,EAAIG,EAAW,OAAQ,IAAOH,EAAMG,EAAW,CAAC,EAAO,EAAAD,EAAS,QAAQF,CAAG,GAAK,KAAaH,EAAOG,CAAG,EAAID,EAAOC,CAAG,GAAK,OAAOH,CAAS,CA0BnT,MAAMwC,GAAQ,GACRC,GAAS,SACTC,GAAS,SACf,IAAInC,GAAY,CACd,KAAMC,EAAU,MAEhB,MAAOA,EAAU,MAcjB,SAAUA,EAAU,KACpB,WAAYA,EAAU,OAYtB,SAAUA,EAAU,KACpB,KAAMA,EAAU,KAChB,WAAYA,EAAU,KAEtB,QAASmC,GACT,UAAWA,GACX,eAAgBnC,EAAU,KAC1B,eAAgBA,EAAU,KAC1B,gBAAiBA,EAAU,KAC3B,QAASmC,GACT,YAAanC,EAAU,MAAM,CAAC,GAAM,GAAO,UAAU,CAAC,EAMtD,SAAUA,EAAU,KAKpB,SAAUA,EAAU,KACpB,KAAMA,EAAU,KAGhB,WAAYA,EAAU,KAGtB,aAAcA,EAAU,KAGxB,YAAaA,EAAU,KACvB,OAAQA,EAAU,KAClB,gBAAiBA,EAAU,YAG3B,mBAAoBA,EAAU,OAC9B,WAAYA,EAAU,OACtB,UAAWA,EAAU,OACrB,UAAWA,EAAU,KACrB,YAAaA,EAAU,OAGvB,0BAA2BA,EAAU,KAGrC,wBAAyBA,EAAU,KACnC,SAAUC,EAAyB,aACnC,SAAUA,EACV,SAAUD,EAAU,MAAM,CACxB,KAAMoC,EACN,UAAWA,EACX,YAAaA,EACb,aAAcA,EACd,UAAWA,EACX,cAAeA,EACf,aAAcA,EACd,YAAaA,CACjB,CAAG,CACH,EACA,MAAMC,GAAc,CAAA,EAEpB,SAASC,GAAmBb,EAAQY,GAAaE,EAAMC,EAAWC,EAAQC,EAAYC,EAAyB,CAC7G,OAAAJ,EAAOK,EAAAA,QAAQ,IAAMD,EAA0BJ,EAAOA,EAAK,OAAO9C,GAAK,CAACgC,EAAM,KAAKoB,GAAKL,EAAU,QAAQ/C,EAAGoD,CAAC,CAAC,CAAC,EAAG,CAACN,EAAMI,EAAyBlB,EAAOe,CAAS,CAAC,EAC7J,CAACM,GAAgBP,EAAME,GAAU,GAAOC,EAAYF,EAAU,IAAI,EAAGD,EAAK,MAAM,CACzF,CAuBA,MAAMQ,GAA2B5C,EAAM,WAAW,SAAqBC,EAAM4C,EAAU,CACrF,GAAI,CACF,QAAAC,EACA,UAAAC,EACA,UAAAC,EACA,GAAAhC,EACA,MAAAM,EACA,aAAA2B,EAAe,CAAE,EACjB,SAAAC,EACA,KAAAC,EACA,YAAAC,EAAc,GACd,SAAAC,EACA,eAAAC,EAAiB,GACjB,WAAAf,EACA,kBAAAgB,EAAoB,GACpB,SAAAC,GACA,OAAAlB,GAAS,aACT,YAAAmB,GAAc,GACd,UAAAjD,GACA,mBAAAkD,GACA,YAAAC,GACA,KAAAC,GACA,SAAAzD,EACA,SAAAC,EACA,WAAAyD,GACA,aAAAhD,GAAeiD,GACf,YAAAC,GACA,OAAAC,GACA,SAAAC,GACA,gBAAAC,GACA,0BAAAC,GAA4B,GAC5B,wBAAA3B,GAA0B,GAC1B,SAAA4B,GACA,SAAAC,GACA,UAAAC,GACA,OAAAC,GACA,QAAAC,GACA,WAAAC,GACA,UAAAC,GACA,WAAAC,GACA,eAAAC,GACA,gBAAAC,GACA,eAAApD,GACA,gBAAAqD,GACA,mBAAAC,GACA,QAAAC,GACA,cAAeC,GAAgBC,GAC/B,eAAgBC,GAAQC,GACxB,iBAAkBC,GAAUhE,GAC5B,KAAMiE,EAAU,CAAE,EAClB,SAAUC,EACd,EAAMtF,EACAuF,GAAe/F,GAA8BQ,EAAMd,EAAS,EAE5D,CAACsG,EAAcC,EAAY,EAAIC,GAAoBrE,EAAO2B,EAAcC,CAAQ,EACpF,KAAM,CAAC0C,EAAaC,EAAU,EAAIF,GAAoBxC,EAAMC,EAAaC,CAAQ,EAC3E,CAACyC,EAAeC,EAAY,EAAIJ,GAAoBpD,EAAYgB,EAAmBC,EAAQ,EAC3FtD,EAAM8F,SAAO,IAAI,EACjBC,EAAWD,SAAO,IAAI,EACtBE,GAAUF,SAAO,IAAI,EACrBG,GAAUC,EAAcpF,EAAI,QAAQ,EACpCqF,GAASD,EAAcpF,EAAI,UAAU,EACrCsF,EAASF,EAAcpF,EAAI,UAAU,EACrCuF,GAAWH,EAAcpF,EAAI,oBAAoB,EACjDwF,EAAcJ,EAAcpF,EAAI,qBAAqB,EACrDyF,EAAiBL,EAAcpF,EAAI,wBAAwB,EAC3DqB,EAAYqE,GAAa3D,EAAWD,CAAO,EAC3C6D,EAAWC,GAAwBrB,EAAY,EAC/CsB,EAASC,GAAkBlB,EAAaC,EAAU,EAClDkB,EAAa5G,IAAa,GAC1B6G,EAAa,CAAC,CAAC5G,EACf,CAAC6G,GAAalG,CAAO,EAAImG,GAAgBhH,EAAK,CAClD,SAAU6G,EACV,OAAAxC,GACA,QAAAC,EACJ,EAAK,CACD,UAAUzD,EAASI,EAAO,CACxB,GAAIJ,EAAS,OAAOoG,IACpBN,EAAO,MAAK,EACZO,GAAYjG,CAAK,EACjBkG,EAAQ,MAAM,IAAI,CACnB,CAEL,CAAG,EACKC,EAAY7E,EAAAA,QAAQ,IAAMgD,EAAa,IAAI9D,GAAQU,EAAU,WAAWiD,EAAS3D,CAAI,CAAC,EAAG,CAAC2D,EAASG,EAAcpD,CAAS,CAAC,EAC3H,CAACD,GAAMmF,EAAmB,EAAIpF,GAAmBmF,EAAWhC,EAASjD,EAAWuD,EAActD,GAAS,GAAOwD,EAAetD,EAAuB,EACpJgF,EAAOC,GAAa,CACxB,MAAOvH,EACP,cAAe,YACf,eAAAoD,EACA,SAAUmD,EACV,WAAYb,EAAc0B,EAAUA,EAAU,OAAS,CAAC,EAAI,MAChE,CAAG,EACKD,EAAUI,GAAa,CAC3B,MAAOvH,EACP,cAAe,0BACf,SAAUsG,CACd,CAAG,EACKkB,EAAmBC,GAAclE,GAAa,CAClD,WAAYqC,EACZ,KAAA1D,GACA,UAAAkF,EACA,UAAAjF,CACJ,CAAG,EAKKuF,GAAaP,EAAQ,aAC3BQ,EAAAA,UAAU,IAAM,CACVjC,GACJkC,GAAoB7B,EAAS,QAAS2B,GAAapB,EAAc,EAAE,CACpE,EAAE,CAACA,EAAaZ,EAAagC,EAAU,CAAC,EACzC,MAAMG,GAAcP,EAAK,aACzBK,EAAAA,UAAU,IAAM,CACTjC,GAELkC,GAAoB7B,EAAS,QAAS8B,GAActB,EAAiB,EAAE,CACxE,EAAE,CAACA,EAAgBb,EAAamC,EAAW,CAAC,EAK7C,MAAMC,EAAe,CAAClH,EAAUK,IAAU,CACpC4F,GAAc3G,GAAYiH,EAAQ,KAAM,IAAK,IACjDF,IACAc,GAAOnH,EAAUK,EAAOY,EAAM,EAClC,EAEQmG,EAAclC,SAAO,EAAK,EAE1BmC,GAAsBC,GAAK,CAC3BA,EAAE,MAAQ,aAAeA,EAAE,cAAc,OAAS,CAACF,EAAY,UAASA,EAAY,QAAU,GACtG,EAEQG,GAAoBD,GAAK,CACzBA,EAAE,MAAQ,aAAeF,EAAY,UACvCA,EAAY,QAAU,GAE5B,EAEQI,GAAoBF,GAAK,CAC7BG,GAAOH,EAAE,OAAO,MAAOA,EAAG,OAAO,EACjCvB,EAAO,KAAI,CACf,EAEQ2B,GAAcJ,GAAK,CACnBrB,GAAc3G,IAElBgI,EAAE,eAAc,EAChBjB,IAEItI,GAAQuJ,EAAE,OAAQ,YAAY,GAAKxC,EACrCiB,EAAO,MAAK,EACPA,EAAO,OAClB,EAEQ4B,GAAoB,IAAM,CAC1B1B,GAAc,CAACd,EAAS,UAC5BkB,IACIlB,EAAS,SAASA,EAAS,QAAQ,OAAM,EACjD,EAEQyC,GAAe,CAAC5H,EAAU6H,IAAkB,CAChD,GAAI7H,IAAa,OAGjB,IAFA6H,EAAc,eAAc,EAExB7H,IAAa8H,GAAe,CAC9BC,EAAaF,CAAa,EAC1B,MACD,CAEDG,GAAO1E,GAAU,CAACtD,EAAU,CAC1B,cAAA6H,CACD,CAAA,CAAC,EAEE,CAACnG,IAA2B,CAAC8E,EAAU,SAASxG,CAAQ,EAC1DmH,GAAOnH,EAAU6H,EAAe7G,EAAM,EAEtCmG,GAAOnH,EAAU6H,EAAe5G,EAAM,EAGxCoF,IACJ,EAEQ0B,EAAe1H,GAAS,CAC5B2H,GAAOzE,GAAU,CAACyB,CAAa,CAAC,EAChCsB,GAAYjG,CAAK,EACjBgG,GACJ,EAEQ4B,GAAgB5H,GAAS,CAC7B,GAAIf,EAAU,CACZe,EAAM,eAAc,EACpB,MACD,CAED,GAAI,CACF,IAAA3B,EACA,QAAAwJ,EACA,OAAAC,EACA,QAAAC,EACD,EAAG/H,EAEJ,GADA2H,GAAOxE,GAAW,CAACnD,CAAK,CAAC,EACrB,CAAAA,EAAM,iBAEV,GAAI3B,IAAQ,YAAa,CAGvB,GAFA2B,EAAM,eAAc,EAEhB,CAACyE,EAAa,CAChBiB,EAAO,KAAI,EACX,MACD,CAEDW,EAAK,MAAMA,EAAK,KAAM,CAAA,EACtBH,EAAQ,MAAM,IAAI,CACnB,SAAU7H,IAAQ,YAAcoG,GAAeqD,GAAS,CAGvD,GAFA9H,EAAM,eAAc,EAEhB8H,EAAQ,CACVpC,EAAO,MAAK,EACZ,MACD,CAEDW,EAAK,MAAMA,EAAK,KAAM,CAAA,EACtBH,EAAQ,MAAM,IAAI,CACxB,SAAe7H,IAAQ,MACjB2B,EAAM,eAAc,EAEhByE,GACF4B,EAAK,MAAMA,EAAK,KAAM,CAAA,EACtBH,EAAQ,MAAM,IAAI,IAElBA,EAAQ,MAAMA,EAAQ,KAAM,CAAA,EAC5BG,EAAK,MAAM,IAAI,WAERhI,IAAQ,OACjB2B,EAAM,eAAc,EAChByE,EAAa4B,EAAK,MAAMA,EAAK,MAAK,CAAE,EAAOA,EAAK,MAAMH,EAAQ,MAAO,CAAA,UAChEzB,GAAeoD,IAAYnH,GAAO,CAI3C,GAFAV,EAAM,eAAc,EAEhB+H,IAAWxB,EACb,OAAOmB,EAAa1H,CAAK,EAG3BuH,GAAalB,EAAK,WAAY,EAAErG,CAAK,CAC3C,MAAe3B,IAAQ,SACboG,EAAaiB,EAAO,MAAK,EAAQQ,EAAQ,MAAM,IAAI,EAC9C,CAACvB,GAAiB,CAACoC,EAAY,UAEpC1I,IAAQ,YACV6H,EAAQ,MAAMA,EAAQ,KAAK,CACzB,SAAU,MACX,CAAA,CAAC,EACO7H,IAAQ,aACjB6H,EAAQ,MAAMA,EAAQ,KAAK,CACzB,SAAU,MACX,CAAA,CAAC,EACO7H,IAAQ,UAAY6H,EAAQ,WAAU,EAC/CW,EAAaX,EAAQ,WAAY,EAAElG,CAAK,EAC/B3B,IAAQ,YACjBwI,EAAaX,EAAQ,WAAWA,EAAQ,KAAM,CAAA,EAAGlG,CAAK,EAC7C3B,IAAQ,KAAO,CAACoG,IACzBzE,EAAM,eAAc,EACpB0F,EAAO,KAAI,GAGnB,EAME,SAASoB,GAAOnH,EAAU6H,EAAeQ,EAAQ,CAC/C,IAAIC,EAAgB9B,EAEpB,OAAQ6B,EAAM,CACZ,KAAKrH,GACHsH,EAAgBA,EAAc,OAAOtI,CAAQ,EAC7C,MAEF,KAAKiB,GACHqH,EAAgBA,EAAc,OAAOC,IAAKA,KAAMvI,CAAQ,EACxD,KACH,CAED4E,GAAa0D,EAAe,CAC1B,OAAAD,EACA,SAAArI,EACA,cAAA6H,EACA,WAAY7C,EACZ,UAAWL,CACjB,CAAK,EACD2B,GAAYuB,CAAa,CAC1B,CAED,SAASvB,GAAYuB,EAAe,CAClCJ,GAAO,GAAII,EAAe,OAAO,CAClC,CAED,SAASJ,GAAOe,EAAgBX,EAAeQ,EAAS,QAAS,CAC3DG,IAAmBxD,GAAeC,GAAauD,EAAgB,CACjE,OAAAH,EACA,cAAAR,EACA,eAAgB7C,CACtB,CAAK,CACF,CAED,SAASqB,GAAQ,CACXlB,EAAS,SAASA,EAAS,QAAQ,MAAK,CAC7C,CAMDsD,EAAmB,oBAAC1G,EAAU,KAAO,CACnC,MAAAsE,CACD,EAAC,EACF,IAAIqC,GAAoBC,GAAsB1I,EAAS6E,CAAW,EAC9D8D,GAAmB,CAAC,CAACpC,EAAU,OAC/BqC,GAAY,GAAGrD,CAAM,KAAOoD,GAAmBrD,GAAS,KAAOqB,EAAmBnB,GAAW,IACjG,OAAoBvG,EAAM,cAAc4J,GAAQxK,EAAS,CAAA,EAAIoG,GAAc,CACzE,IAAKtF,EACL,KAAM0F,EACN,OAAQ5B,GACR,QAASjD,EACT,SAAUgG,EACV,SAAUC,EACV,UAAW+B,EACZ,EAAE9B,GAAa,CACd,UAAW7F,EAAGZ,GAAW,gBAAgB,CAC7C,CAAG,EAAgBR,EAAM,cAAc6J,GAAc,CACjD,QAASrB,GACT,WAAYA,GACZ,cAAeC,GACf,UAAWrH,EAAGsC,GAAoB,iBAAiB,CACpD,EAAe1D,EAAM,cAAc8J,GAAiB,SAAU,CAC7D,MAAOzC,EAAQ,OACnB,EAAkBrH,EAAM,cAAcqF,GAAS,CAC3C,GAAIgB,GACJ,aAAchE,EAAU,KACxB,aAAcxB,GACd,MAAO8F,EAAS,UAAW,EAC3B,MAAOW,EACP,SAAUN,EACV,SAAU7G,EACV,SAAU6H,EACV,mBAAoBjD,GACpB,eAAgBtD,EACpB,EAAkBzB,EAAM,cAAcD,GAAkBX,EAAS,CAAA,EAAIqF,GAAY,CAC7E,KAAM,WACN,UAAWzB,EACX,SAAUiB,IAAY,EACtB,gBAAiB,CAAC,CAAC2B,EACnB,YAAa,CAAC,CAAChC,GACf,YAAa+F,GACb,gBAAiBrD,EACjB,gBAAiB,UACjB,oBAAqB,OACrB,MAAOR,EACP,SAAUiB,EACV,SAAUC,EACV,aAAcvB,EAAa,QAAU,CAACtB,GAA4B,GAAKR,KAAgB,GACvF,UAAWwE,GACX,QAASE,GACT,SAAUC,GACV,IAAKrC,CACN,CAAA,CAAC,CAAC,CAAC,EAAgBjG,EAAM,cAAc+J,GAAe,CACrD,KAAMnG,GACN,QAASG,GACT,KAAMF,GACN,QAAS9C,CACV,CAAA,CAAC,EAAgBf,EAAM,cAAc8J,GAAiB,SAAU,CAC/D,MAAOtC,EAAK,OAChB,EAAKgC,IAAkCxJ,EAAM,cAAcmF,GAAO/F,EAAS,CAAE,EAAEuF,GAAY,CACvF,OAAQX,GACR,KAAM4B,EACN,WAAY1B,GACZ,WAAY,IAAMgC,GAAQ,QAAQ,eAAgB,CACtD,CAAG,EAAgBlG,EAAM,cAAciF,GAAe7F,EAAS,CAAE,EAAEsF,GAAW,CAC1E,GAAI4B,EACJ,KAAMlE,GACN,SAAU,GACV,SAAUjC,EACV,WAAY2F,EACZ,UAAWzD,EACX,WAAYuC,GACZ,YAAaC,GACb,MAAOyC,EACP,QAAStC,GACT,gBAAiBF,GACjB,SAAU,CAACuE,EAAGW,IAAStB,GAAaW,EAAGW,EAAK,aAAa,EACzD,YAAa,SACb,kBAAmB7D,GACnB,cAAe,CAACP,EAChB,IAAKM,GACL,SAAU,CACR,UAAWqB,GAAsBZ,EAAS,YAAcA,EAAS,SAClE,CACF,CAAA,CAAC,EAAGe,GAAiC1H,EAAM,cAAciK,GAAiB,CACzE,SAAUpB,CACd,EAAKlC,EAAS,aAAalB,EAAcK,CAAa,CAAC,CAAC,CAAC,CAAC,CAC1D,CAAC,EACDlD,GAAY,YAAc,cAC1BA,GAAY,UAAYhD,GC3iBxB,MAAAsK,GAAA7J,GAAA,CACA,KAAA,CAAA,QAAA8J,CAAA,EAAA9J,EAEA,OAAA+J,GAAAC,GAAA,CAAA,WAAA,GAAAF,CAAA,kBAAA,CAAA,CACA,EAEAD,GAAA,UAAA,CACA,QAAArK,EAAA,MACA,EAEA,MAAAyK,GAAAJ,4ICFA,MAAAtH,EAAAvC,GAAA,CACA,KAAA,CACA,WAAAkK,EACA,SAAAC,EACA,SAAAtH,EACA,SAAAmB,EACA,SAAAb,EACA,SAAAY,EACA,kBAAAqG,EACA,mBAAAC,EACA,iBAAAC,CACA,EAAAtK,EACA8J,EAAA,qBACAS,EAAAC,GAAAxK,CAAA,EACAyK,EAAA,CACA,CAAA,GAAAX,CAAA,SAAA,EAAAK,CAAA,EAEAzG,EAAA0G,EAAA,CAAA,QAAAN,CAAA,CAAA,EACAtG,EAAA8G,EAAA,CAAA,QAAAR,CAAA,CAAA,EACAtJ,EAAA6J,EAAA,CAAA,QAAAP,CAAA,CAAA,EAGA,OAAAC,GAAAW,GAAA,CACA,GAAAH,EACA,UAAAI,EAAAb,EAAAW,EAAAP,CAAA,EACA,SAAArH,EACA,SAAAmB,EACA,SAAAb,EACA,SAAAY,EACA,YAAAL,EACA,WAAAF,EACA,aAAAhD,CAAA,CAAA,CAGA,EAEA+B,EAAA,aAAA,CACA,SAAA,GACA,OAAA,GACA,cAAA,GACA,WAAA,GACA,WAAA,GACA,gBAAA,GACA,aAAA,GACA,sBAAA,GACA,gCAAA,GACA,KAAA,CAAA,EACA,SAAA,IAAA,QAAA,QAAA,EACA,SAAA,IAAA,QAAA,QAAA,EACA,SAAA,IAAA,QAAA,QAAA,EACA,SAAA,IAAA,QAAA,QAAA,EACA,kBAAAqI,GACA,mBAAAf,GACA,iBAAAgB,EACA,EAEAtI,EAAA,UAAA,CACA,WAAA/C,EAAA,OACA,kBAAAA,EAAA,OACA,GAAAA,EAAA,OACA,YAAAA,EAAA,OACA,WAAAA,EAAA,OACA,SAAAA,EAAA,KACA,OAAAA,EAAA,KACA,cAAAA,EAAA,KACA,WAAAA,EAAA,KACA,OAAAA,EAAA,KACA,WAAAA,EAAA,KACA,gBAAAA,EAAA,KACA,aAAAA,EAAA,KACA,sBAAAA,EAAA,KACA,gCAAAA,EAAA,KACA,KAAAA,EAAA,MACA,aAAAA,EAAA,MACA,MAAAA,EAAA,MACA,WAAAA,EAAA,OACA,UAAAA,EAAA,OACA,SAAAA,EAAA,OACA,YAAAA,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,IAAA,CAAA,EACA,QAAAA,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,IAAA,CAAA,EACA,OAAAA,EAAA,UAAA,CACAA,EAAA,OACAA,EAAA,KACAA,EAAA,IAAA,CACA,EACA,QAAAA,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,IAAA,CAAA,EACA,cAAAA,EAAA,UAAA,CAAAA,EAAA,QAAAA,EAAA,IAAA,CAAA,EACA,mBAAAA,EAAA,UAAA,CACAA,EAAA,QACAA,EAAA,IAAA,CACA,EACA,UAAAA,EAAA,UAAA,CAAAA,EAAA,OAAAA,EAAA,IAAA,CAAA,EACA,SAAAA,EAAA,KACA,SAAAA,EAAA,KACA,SAAAA,EAAA,KACA,SAAAA,EAAA,KACA,kBAAAA,EAAA,KACA,mBAAAA,EAAA,KACA,gBAAAA,EAAA,KACA,eAAAA,EAAA,KACA,iBAAAA,EAAA,KACA,eAAAA,EAAA,IACA,EAEA,MAAAsL,GAAAvI;;;;;;;;;;;;","x_google_ignoreList":[0,1,2,3,4]}