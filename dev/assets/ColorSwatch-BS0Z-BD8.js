import{j as e}from"./jsx-runtime-DN5Rltsz.js";import{r as m}from"./iframe-X-brMXKZ.js";import{c as d,P as t,k as I,t as N,u as v,v as q}from"./localeUtils--UUmbdnw.js";import{C as i}from"./colorBaseClsConst-CmhJ9Gx0.js";import{P as E}from"./Paragraph-wnBSR9tR.js";const u=s=>!s||typeof s!="string"?!1:s.includes("Contrast Ratio"),P=s=>{const r=u(s),a=/Contrast Ratio - (\d+(\.\d+)?:1)/,o=/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})\b/;return r?{bgColor:s.match(o)?.[0],contrastRatio:s.match(a)?.[1]}:{}},_=s=>{const{contextCls:r,item:a}=s,o=`${i}__contrast-ratio-meta`;if(!u(a))return a;const{bgColor:c,contrastRatio:p}=P(a);return e.jsxs("span",{className:d(o,r),children:[e.jsx("span",{className:`${o}-value`,children:p})," ",e.jsx("span",{className:`${o}-color`,style:{backgroundColor:c}})]})};_.propTypes={contextCls:t.string,item:t.oneOfType([t.string,t.element])};_.__docgenInfo={description:"",methods:[],displayName:"ContrastRatioMeta",props:{contextCls:{description:"",type:{name:"string"},required:!1},item:{description:"",type:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1}}};const L=s=>{const r=`${i}__meta-list-item`,{item:a}=s,o=u(a),n={[`${r}--contrast-ratio`]:o};return e.jsx("li",{className:d(r,n),children:e.jsx(_,{item:a})})};L.propTypes={item:t.oneOfType([t.string,t.element])};L.__docgenInfo={description:"",methods:[],displayName:"ColorSwatchMetaLI",props:{item:{description:"",type:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1}}};const l=s=>{const{contextCls:r,metaList:a}=s,o=`${i}__meta-list`,n=m.Children.toArray(a.map(c=>e.jsx(L,{item:c})));return e.jsx("ul",{className:d(o,r),children:n})};l.defaultProps={metaList:[]};l.propTypes={contextCls:t.string,metaList:t.arrayOf(t.oneOfType([t.string,t.element]))};l.__docgenInfo={description:"",methods:[],displayName:"ColorSwatchMetaList",props:{metaList:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"element"}]}},required:!1},contextCls:{description:"",type:{name:"string"},required:!1}}};const f=s=>{const{contextCls:r,mainContent:a,metaList:o}=s,n=`${i}__details`,c=o.length>0;return e.jsxs("div",{className:d(n,r),children:[a&&e.jsx(E,{contextCls:`${n}-main`,children:a}),c&&e.jsx(l,{metaList:o})]})};f.defaultProps={metaList:[]};f.propTypes={contextCls:t.string,mainContent:t.oneOfType([t.string,t.element]),metaList:t.arrayOf(t.oneOfType([t.string,t.element]))};f.__docgenInfo={description:"",methods:[],displayName:"ColorSwatchDetails",props:{metaList:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"element"}]}},required:!1},contextCls:{description:"",type:{name:"string"},required:!1},mainContent:{description:"",type:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1}}};const z=s=>{const{contextCls:r,color:a,hasAlpha:o=!1,isCard:n=!1,mainContent:c,metaList:p=[],children:M}=s,h=!a,x=I(a,o),T=m.useMemo(()=>N(v,10),[]),O=m.useMemo(()=>N(v,90),[]),j=q({baseHex:x,preferredDarkTextColor:T,preferredLightTextColor:O}),S=m.useMemo(()=>({[`${i}--swatch-card`]:n,[`${i}--swatch-block`]:!n,[`${i}--no-color`]:h}),[n,h]),w={color:j,...!h&&{backgroundColor:x}},$={...!n&&{color:j}},{contrastMeta:C,sanitizedMeta:b}=m.useMemo(()=>p.reduce((A,g)=>{const y={...A},R=u(g);return R&&y.contrastMeta.push(g),R||y.sanitizedMeta.push(g),y},{contrastMeta:[],sanitizedMeta:[]}),[p]);return e.jsxs("div",{className:d(i,S,r),children:[e.jsx("div",{className:`${i}__swatch-color`,style:w,children:n&&C.length>0&&e.jsx(l,{metaList:C})}),e.jsxs("div",{className:`${i}__inner`,style:$,children:[!M&&e.jsxs(e.Fragment,{children:[e.jsx(f,{mainContent:c||x,metaList:b}),!n&&C.length>0&&e.jsx(l,{metaList:C})]}),M]})]})};z.__docgenInfo={description:"",methods:[],displayName:"ColorSwatch"};export{z as C};
